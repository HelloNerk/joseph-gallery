var pR=Object.defineProperty,gR=Object.defineProperties;var mR=Object.getOwnPropertyDescriptors;var LI=Object.getOwnPropertySymbols;var yR=Object.prototype.hasOwnProperty,vR=Object.prototype.propertyIsEnumerable;var VI=(t,e,n)=>e in t?pR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})yR.call(e,n)&&VI(t,n,e[n]);if(LI)for(var n of LI(e))vR.call(e,n)&&VI(t,n,e[n]);return t},ae=(t,e)=>gR(t,mR(e));var S=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function UI(t,e){return Object.is(t,e)}var qe=null,$c=!1,Hc=1,Nn=Symbol("SIGNAL");function pe(t){let e=qe;return qe=t,e}function jI(){return qe}var Vo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sf(t){if($c)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(Wc(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&Lo(qe)){let n=qe.producerNode[e];Gc(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=Lo(qe)?qI(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function _R(){Hc++}function BI(t){if(!(Lo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hc)){if(!t.producerMustRecompute(t)&&!af(t)){t.dirty=!1,t.lastCleanEpoch=Hc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hc}}function $I(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||IR(n)}finally{$c=e}}function HI(){return qe?.consumerAllowSignalWrites!==!1}function IR(t){t.dirty=!0,$I(t),t.consumerMarkedDirty?.(t)}function zc(t){return t&&(t.nextProducerIndex=0),pe(t)}function of(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Lo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function af(t){Wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(BI(n),r!==n.version))return!0}return!1}function cf(t){if(Wc(t),Lo(t))for(let e=0;e<t.producerNode.length;e++)Gc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qI(t,e,n){if(zI(t),t.liveConsumerNode.length===0&&GI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=qI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Gc(t,e){if(zI(t),t.liveConsumerNode.length===1&&GI(t))for(let r=0;r<t.producerNode.length;r++)Gc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wc(i),i.producerIndexOfThis[r]=e}}function Lo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function GI(t){return t.producerNode!==void 0}function WI(t){let e=Object.create(wR);e.computation=t;let n=()=>{if(BI(e),sf(e),e.value===qc)throw e.error;return e.value};return n[Nn]=e,n}var nf=Symbol("UNSET"),rf=Symbol("COMPUTING"),qc=Symbol("ERRORED"),wR=ae(F({},Vo),{value:nf,dirty:!0,error:null,equal:UI,producerMustRecompute(t){return t.value===nf||t.value===rf},producerRecomputeValue(t){if(t.value===rf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=rf;let n=zc(t),r;try{r=t.computation()}catch(i){r=qc,t.error=i}finally{of(t,n)}if(e!==nf&&e!==qc&&r!==qc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function ER(){throw new Error}var KI=ER;function QI(){KI()}function YI(t){KI=t}var DR=null;function ZI(t){let e=Object.create(XI);e.value=t;let n=()=>(sf(e),e.value);return n[Nn]=e,n}function uf(t,e){HI()||QI(),t.equal(t.value,e)||(t.value=e,bR(t))}function JI(t,e){HI()||QI(),uf(t,e(t.value))}var XI=ae(F({},Vo),{equal:UI,value:void 0});function bR(t){t.version++,_R(),$I(t),DR?.()}function Z(t){return typeof t=="function"}function Vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Kc=Vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){e=s instanceof Kc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{ew(s)}catch(o){e=e??[],o instanceof Kc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ew(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vr(n,e)}remove(e){let{_finalizers:n}=this;n&&Vr(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var lf=Oe.EMPTY;function Qc(t){return t instanceof Oe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function ew(t){Z(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ui={setTimeout(t,e,...n){let{delegate:r}=Ui;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yc(t){Ui.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Uo(){}var tw=df("C",void 0,void 0);function nw(t){return df("E",void 0,t)}function rw(t){return df("N",t,void 0)}function df(t,e,n){return{kind:t,value:e,error:n}}var Ur=null;function ji(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ur;if(Ur=null,n)throw r}}else t()}function iw(t){Qt.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=t)}var jr=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qc(e)&&e.add(this)):this.destination=SR}static create(e,n,r){return new Bi(e,n,r)}next(e){this.isStopped?ff(rw(e),this):this._next(e)}error(e){this.isStopped?ff(nw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ff(tw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CR=Function.prototype.bind;function hf(t,e){return CR.call(t,e)}var pf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zc(r)}else Zc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zc(n)}}},Bi=class extends jr{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hf(e.next,s),error:e.error&&hf(e.error,s),complete:e.complete&&hf(e.complete,s)}):i=e}this.destination=new pf(i)}};function Zc(t){Qt.useDeprecatedSynchronousErrorHandling?iw(t):Yc(t)}function TR(t){throw t}function ff(t,e){let{onStoppedNotification:n}=Qt;n&&Ui.setTimeout(()=>n(t,e))}var SR={closed:!0,next:Uo,error:TR,complete:Uo};var $i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function Jc(...t){return gf(t)}function gf(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=RR(n)?n:new Bi(n,r,i);return ji(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sw(r),new r((i,s)=>{let o=new Bi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$i](){return this}pipe(...n){return gf(n)(this)}toPromise(n){return n=sw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function sw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function AR(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function RR(t){return t&&t instanceof jr||AR(t)&&Qc(t)}function mf(t){return Z(t?.lift)}function he(t){return e=>{if(mf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new yf(t,e,n,r,i)}var yf=class extends jr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hi(){return he((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var qi=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return Hi()(this)}};var ow=Vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ow}next(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?lf:(this.currentObservers=null,s.push(n),new Oe(()=>{this.currentObservers=null,Vr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Xc(e,n),t})(),Xc=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:lf}};var Je=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vf={now(){return(vf.delegate||Date).now()},delegate:void 0};var eu=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var jo={setInterval(t,e,...n){let{delegate:r}=jo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=jo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zi=class extends eu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return jo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&jo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gi.now=vf.now;var Wi=class extends Gi{constructor(e,n=Gi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var _f=new Wi(zi);var tu=class extends zi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nu=class extends Wi{};var If=new nu(tu);var Mt=new ie(t=>t.complete());function aw(t){return t&&Z(t.schedule)}function cw(t){return t[t.length-1]}function ru(t){return Z(cw(t))?t.pop():void 0}function ir(t){return aw(cw(t))?t.pop():void 0}function wf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function uw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function dw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(C){return Promise.resolve(C).then(v,p)}}function a(v,C){r[v]&&(i[v]=function(M){return new Promise(function(R,O){s.push([v,M,R,O])>1||u(v,M)})},C&&(i[v]=C(i[v])))}function u(v,C){try{l(r[v](C))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Br?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,C){v(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function hw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof uw=="function"?uw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var iu=t=>t&&typeof t.length=="number"&&typeof t!="function";function su(t){return Z(t?.then)}function ou(t){return Z(t[$i])}function au(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uu=MR();function lu(t){return Z(t?.[uu])}function du(t){return dw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function hu(t){return Z(t?.getReader)}function Ue(t){if(t instanceof ie)return t;if(t!=null){if(ou(t))return NR(t);if(iu(t))return xR(t);if(su(t))return PR(t);if(au(t))return fw(t);if(lu(t))return OR(t);if(hu(t))return kR(t)}throw cu(t)}function NR(t){return new ie(e=>{let n=t[$i]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xR(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PR(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Yc)})}function OR(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fw(t){return new ie(e=>{FR(t,e).catch(n=>e.error(n))})}function kR(t){return fw(du(t))}function FR(t,e){var n,r,i,s;return lw(this,void 0,void 0,function*(){try{for(n=hw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function sr(t,e=0){return he((n,r)=>{n.subscribe(ce(r,i=>Dt(r,t,()=>r.next(i),e),()=>Dt(r,t,()=>r.complete(),e),i=>Dt(r,t,()=>r.error(i),e)))})}function or(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pw(t,e){return Ue(t).pipe(or(e),sr(e))}function gw(t,e){return Ue(t).pipe(or(e),sr(e))}function mw(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yw(t,e){return new ie(n=>{let r;return Dt(n,e,()=>{r=t[uu](),Dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Dt(n,e,()=>{let r=t[Symbol.asyncIterator]();Dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vw(t,e){return fu(du(t),e)}function _w(t,e){if(t!=null){if(ou(t))return pw(t,e);if(iu(t))return mw(t,e);if(su(t))return gw(t,e);if(au(t))return fu(t,e);if(lu(t))return yw(t,e);if(hu(t))return vw(t,e)}throw cu(t)}function ke(t,e){return e?_w(t,e):Ue(t)}function J(...t){let e=ir(t);return ke(t,e)}function Ki(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Ef(t){return!!t&&(t instanceof ie||Z(t.lift)&&Z(t.subscribe))}var xn=Vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:LR}=Array;function VR(t,e){return LR(e)?t(...e):t(e)}function pu(t){return ne(e=>VR(t,e))}var{isArray:UR}=Array,{getPrototypeOf:jR,prototype:BR,keys:$R}=Object;function gu(t){if(t.length===1){let e=t[0];if(UR(e))return{args:e,keys:null};if(HR(e)){let n=$R(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HR(t){return t&&typeof t=="object"&&jR(t)===BR}function mu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yu(...t){let e=ir(t),n=ru(t),{args:r,keys:i}=gu(t);if(r.length===0)return ke([],e);let s=new ie(qR(r,e,i?o=>mu(i,o):Rt));return n?s.pipe(pu(n)):s}function qR(t,e,n=Rt){return r=>{Iw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)Iw(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(ce(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Iw(t,e,n){t?Dt(n,t,e):e()}function ww(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?C(M):u.push(M),C=M=>{s&&e.next(M),l++;let R=!1;Ue(n(M,h++)).subscribe(ce(e,O=>{i?.(O),s?v(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();o?Dt(e,o,()=>C(O)):C(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(ce(e,v,()=>{p=!0,m()})),()=>{a?.()}}function ze(t,e,n=1/0){return Z(e)?ze((r,i)=>ne((s,o)=>e(r,s,i,o))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>ww(r,i,t,n)))}function Df(t=1/0){return ze(Rt,t)}function Ew(){return Df(1)}function Qi(...t){return Ew()(ke(t,ir(t)))}function vu(t){return new ie(e=>{Ue(t()).subscribe(e)})}function bf(...t){let e=ru(t),{args:n,keys:r}=gu(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Ue(n[h]).subscribe(ce(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?mu(r,a):a),s.complete())}))}});return e?i.pipe(pu(e)):i}function Vt(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ar(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ce(n,void 0,void 0,o=>{s=Ue(t(o,ar(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Dw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ce(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Yi(t,e){return Z(e)?ze(t,e,1):ze(t,1)}function cr(t){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Pn(t){return t<=0?()=>Mt:he((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Cf(t){return ne(()=>t)}function _u(t=zR){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zR(){return new xn}function Bo(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):Rt,Pn(1),n?cr(e):_u(()=>new xn))}function Zi(t){return t<=0?()=>Mt:he((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Tf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):Rt,Zi(1),n?cr(e):_u(()=>new xn))}function Iu(t,e){return he(Dw(t,e,arguments.length>=2,!0))}function wu(...t){let e=ir(t);return he((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function Yt(t,e){return he((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=s++;Ue(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function $o(t){return he((e,n)=>{Ue(t).subscribe(ce(n,()=>n.complete(),Uo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ce(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var uE="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Sp(e,n)),this.code=e}};function Sp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xo(t){return{toString:t}.toString()}var Eu="__parameters__";function GR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function lE(t,e,n){return Xo(()=>{let r=GR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Eu)?u[Eu]:Object.defineProperty(u,Eu,{value:[]})[Eu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function WR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KR=be({__forward_ref__:be});function Yr(t){return t.__forward_ref__=Yr,t.toString=function(){return yt(this())},t}function mt(t){return dE(t)?t():t}function dE(t){return typeof t=="function"&&t.hasOwnProperty(KR)&&t.__forward_ref__===Yr}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zr(t){return{providers:t.providers||[],imports:t.imports||[]}}function tl(t){return Cw(t,fE)||Cw(t,pE)}function hE(t){return tl(t)!==null}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function QR(t){let e=t&&(t[fE]||t[pE]);return e||null}function Tw(t){return t&&(t.hasOwnProperty(Sw)||t.hasOwnProperty(YR))?t[Sw]:null}var fE=be({\u0275prov:be}),Sw=be({\u0275inj:be}),pE=be({ngInjectableDef:be}),YR=be({ngInjectorDef:be}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gE(t){return t&&!!t.\u0275providers}var ZR=be({\u0275cmp:be}),JR=be({\u0275dir:be}),XR=be({\u0275pipe:be}),eM=be({\u0275mod:be}),Nu=be({\u0275fac:be}),zo=be({__NG_ELEMENT_ID__:be}),Aw=be({__NG_ENV_ID__:be});function Ap(t){return typeof t=="string"?t:t==null?"":String(t)}function tM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ap(t)}function nM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Rp(t,e){throw new $(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),jf;function mE(){return jf}function Ut(t){let e=jf;return jf=t,e}function yE(t,e,n){let r=tl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Rp(t,"Injector")}var rM={},Go=rM,Bf="__NG_DI_FLAG__",xu="ngTempTokenPath",iM="ngTokenPath",sM=/\n/gm,oM="\u0275",Rw="__source",ts;function aM(){return ts}function ur(t){let e=ts;return ts=t,e}function cM(t,e=re.Default){if(ts===void 0)throw new $(-203,!1);return ts===null?yE(t,void 0,e):ts.get(t,e&re.Optional?null:void 0,e)}function se(t,e=re.Default){return(mE()||cM)(mt(t),e)}function k(t,e=re.Default){return se(t,nl(e))}function nl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $f(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],u=uM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(se(i,s))}else e.push(se(r))}return e}function vE(t,e){return t[Bf]=e,t.prototype[Bf]=e,t}function uM(t){return t[Bf]}function lM(t,e,n,r){let i=t[xu];throw e[Rw]&&i.unshift(e[Rw]),t.message=dM(`
`+t.message,i,n,r),t[iM]=i,t[xu]=null,t}function dM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oM?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sM,`
  `)}`}var ot=vE(lE("Optional"),8);var _E=vE(lE("SkipSelf"),4);function rs(t,e){let n=t.hasOwnProperty(Nu);return n?t[Nu]:null}function Mp(t,e){t.forEach(n=>Array.isArray(n)?Mp(n,e):e(n))}function IE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fM(t,e,n){let r=ea(t,e);return r>=0?t[r|1]=n:(r=~r,hM(t,r,e,n)),r}function Sf(t,e){let n=ea(t,e);if(n>=0)return t[n|1]}function ea(t,e){return pM(t,e,1)}function pM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var is={},jt=[],ss=new H(""),wE=new H("",-1),EE=new H(""),Ou=class{get(e,n=Go){if(n===Go){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},DE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(DE||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),hr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hr||{});function gM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Hf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];yM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function mM(t){return t===3||t===4||t===6}function yM(t){return t.charCodeAt(0)===64}function Wo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Mw(t,n,i,null,e[++r]):Mw(t,n,i,null,null))}}return t}function Mw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var bE="ng-template";function vM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Np(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Np(t){return t.type===4&&t.value!==bE}function _M(t,e,n){let r=t.type===4&&!n?bE:t.value;return e===r}function IM(t,e,n){let r=4,i=t.attrs,s=i!==null?DM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Zt(r)&&!Zt(u))return!1;if(o&&Zt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!_M(t,u,n)||u===""&&e.length===1){if(Zt(r))return!1;o=!0}}else if(r&8){if(i===null||!vM(t,i,u,n)){if(Zt(r))return!1;o=!0}}else{let l=e[++a],h=wM(u,i,Np(t),n);if(h===-1){if(Zt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Zt(r))return!1;o=!0}}}}return Zt(r)||o}function Zt(t){return(t&1)===0}function wM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return bM(e,t)}function EM(t,e,n=!1){for(let r=0;r<e.length;r++)if(IM(t,e[r],n))return!0;return!1}function DM(t){for(let e=0;e<t.length;e++){let n=t[e];if(mM(n))return e}return t.length}function bM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Nw(t,e){return t?":not("+e.trim()+")":e}function CM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Zt(o)&&(e+=Nw(s,i),i=""),r=o,s=s||!Zt(r);n++}return i!==""&&(e+=Nw(s,i)),e}function TM(t){return t.map(CM).join(",")}function SM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Zt(i))break;i=s}r++}return{attrs:e,classes:n}}function at(t){return Xo(()=>{let e=RE(t),n=ae(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===DE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||jt,_:null,schemas:t.schemas||null,tView:null,id:""});ME(n);let r=t.dependencies;return n.directiveDefs=Pw(r,!1),n.pipeDefs=Pw(r,!0),n.id=MM(n),n})}function AM(t){return Hr(t)||CE(t)}function RM(t){return t!==null}function Jr(t){return Xo(()=>({type:t.type,bootstrap:t.bootstrap||jt,declarations:t.declarations||jt,imports:t.imports||jt,exports:t.exports||jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xw(t,e){if(t==null)return is;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=hr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==hr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ct(t){return Xo(()=>{let e=RE(t);return ME(e),e})}function Hr(t){return t[ZR]||null}function CE(t){return t[JR]||null}function TE(t){return t[XR]||null}function SE(t){let e=Hr(t)||CE(t)||TE(t);return e!==null?e.standalone:!1}function AE(t,e){let n=t[eM]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function RE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||is,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xw(t.inputs,e),outputs:xw(t.outputs),debugInfo:null}}function ME(t){t.features?.forEach(e=>e(t))}function Pw(t,e){if(!t)return null;let n=e?TE:AM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RM)}function MM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function pn(t){return{\u0275providers:t}}function NM(...t){return{\u0275providers:NE(!0,t),\u0275fromNgModule:!0}}function NE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Mp(e,o=>{let a=o;qf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xE(i,s),n}function xE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xp(i,s=>{e(s,r)})}}function qf(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=Tw(t),o=!s&&Hr(t);if(!s&&!o){let u=t.ngModule;if(s=Tw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)qf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Mp(s.imports,h=>{qf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&xE(l,e)}if(!a){let l=rs(i)||(()=>new i);e({provide:i,useFactory:l,deps:jt},i),e({provide:EE,useValue:i,multi:!0},i),e({provide:ss,useValue:()=>se(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;xp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function xp(t,e){for(let n of t)gE(n)&&(n=n.\u0275providers),Array.isArray(n)?xp(n,e):e(n)}var xM=be({provide:String,useValue:be});function PE(t){return t!==null&&typeof t=="object"&&xM in t}function PM(t){return!!(t&&t.useExisting)}function OM(t){return!!(t&&t.useFactory)}function os(t){return typeof t=="function"}function kM(t){return!!t.useClass}var rl=new H(""),Tu={},FM={},Af;function Pp(){return Af===void 0&&(Af=new Ou),Af}var Ht=class{},Ko=class extends Ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gf(e,o=>this.processProvider(o)),this.records.set(wE,Ji(void 0,this)),i.has("environment")&&this.records.set(Ht,Ji(void 0,this));let s=this.records.get(rl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(EE,jt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ur(this),r=Ut(void 0),i;try{return e()}finally{ur(n),Ut(r)}}get(e,n=Go,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Aw))return e[Aw](this);r=nl(r);let i,s=ur(this),o=Ut(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=BM(e)&&tl(e);l&&this.injectableDefInScope(l)?u=Ji(zf(e),Tu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&re.Self?Pp():this.parent;return n=r&re.Optional&&n===Go?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xu]=a[xu]||[]).unshift(yt(e)),s)throw a;return lM(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(o),ur(s)}}resolveInjectorInitializers(){let e=pe(null),n=ur(this),r=Ut(void 0),i;try{let s=this.get(ss,jt,re.Self);for(let o of s)o()}finally{ur(n),Ut(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=mt(e);let n=os(e)?e:mt(e&&e.provide),r=VM(e);if(!os(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ji(void 0,Tu,!0),i.factory=()=>$f(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Tu&&(n.value=FM,n.value=n.factory()),typeof n.value=="object"&&n.value&&jM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zf(t){let e=tl(t),n=e!==null?e.factory:rs(t);if(n!==null)return n;if(t instanceof H)throw new $(204,!1);if(t instanceof Function)return LM(t);throw new $(204,!1)}function LM(t){if(t.length>0)throw new $(204,!1);let n=QR(t);return n!==null?()=>n.factory(t):()=>new t}function VM(t){if(PE(t))return Ji(void 0,t.useValue);{let e=OE(t);return Ji(e,Tu)}}function OE(t,e,n){let r;if(os(t)){let i=mt(t);return rs(i)||zf(i)}else if(PE(t))r=()=>mt(t.useValue);else if(OM(t))r=()=>t.useFactory(...$f(t.deps||[]));else if(PM(t))r=()=>se(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(UM(t))r=()=>new i(...$f(t.deps));else return rs(i)||zf(i)}return r}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UM(t){return!!t.deps}function jM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BM(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Gf(t,e){for(let n of t)Array.isArray(n)?Gf(n,e):n&&gE(n)?Gf(n.\u0275providers,e):e(n)}function Ln(t,e){t instanceof Ko&&t.assertNotDestroyed();let n,r=ur(t),i=Ut(void 0);try{return e()}finally{ur(r),Ut(i)}}function kE(){return mE()!==void 0||aM()!=null}function FE(t){if(!kE())throw new $(-203,!1)}function $M(t){return typeof t=="function"}var Vn=0,ue=1,Q=2,vt=3,Jt=4,en=5,ku=6,Fu=7,Xt=8,as=9,ln=10,Ge=11,Qo=12,Ow=13,ms=14,dn=15,cs=16,Xi=17,us=18,il=19,LE=20,lr=21,Rf=22,Bt=23,hn=25,VE=1;var qr=7,Lu=8,Vu=9,$t=10,Uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uu||{});function dr(t){return Array.isArray(t)&&typeof t[VE]=="object"}function Un(t){return Array.isArray(t)&&t[VE]===!0}function Op(t){return(t.flags&4)!==0}function sl(t){return t.componentOffset>-1}function ol(t){return(t.flags&1)===1}function fr(t){return!!t.template}function Wf(t){return(t[Q]&512)!==0}var Kf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function UE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xr(){return jE}function jE(t){return t.type.prototype.ngOnChanges&&(t.setInput=qM),HM}Xr.ngInherit=!0;function HM(){let t=$E(this),e=t?.current;if(e){let n=t.previous;if(n===is)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function qM(t,e,n,r,i){let s=this.declaredInputs[r],o=$E(t)||zM(t,{previous:is,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Kf(l&&l.currentValue,n,u===is),UE(t,e,i,n)}var BE="__ngSimpleChanges__";function $E(t){return t[BE]||null}function zM(t,e){return t[BE]=e}var kw=null;var an=function(t,e,n){kw?.(t,e,n)},GM="svg",WM="math";function fn(t){for(;Array.isArray(t);)t=t[Vn];return t}function KM(t,e){return fn(e[t])}function qt(t,e){return fn(e[t.index])}function HE(t,e){return t.data[e]}function QM(t,e){return t[e]}function mr(t,e){let n=e[t];return dr(n)?n:n[Vn]}function kp(t){return(t[Q]&128)===128}function YM(t){return Un(t[vt])}function ls(t,e){return e==null?null:t[e]}function qE(t){t[Xi]=0}function zE(t){t[Q]&1024||(t[Q]|=1024,kp(t)&&cl(t))}function ZM(t,e){for(;t>0;)e=e[ms],t--;return e}function al(t){return!!(t[Q]&9216||t[Bt]?.dirty)}function Qf(t){t[ln].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),al(t)&&cl(t)}function cl(t){t[ln].changeDetectionScheduler?.notify(0);let e=zr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!kp(e)));)e=zr(e)}function GE(t,e){if((t[Q]&256)===256)throw new $(911,!1);t[lr]===null&&(t[lr]=[]),t[lr].push(e)}function JM(t,e){if(t[lr]===null)return;let n=t[lr].indexOf(e);n!==-1&&t[lr].splice(n,1)}function zr(t){let e=t[vt];return Un(e)?e[vt]:e}var oe={lFrame:tD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var WE=!1;function XM(){return oe.lFrame.elementDepthCount}function eN(){oe.lFrame.elementDepthCount++}function tN(){oe.lFrame.elementDepthCount--}function KE(){return oe.bindingsEnabled}function nN(){return oe.skipHydrationRootTNode!==null}function rN(t){return oe.skipHydrationRootTNode===t}function iN(){oe.skipHydrationRootTNode=null}function Se(){return oe.lFrame.lView}function It(){return oe.lFrame.tView}function yr(t){return oe.lFrame.contextLView=t,t[Xt]}function vr(t){return oe.lFrame.contextLView=null,t}function wt(){let t=QE();for(;t!==null&&t.type===64;)t=t.parent;return t}function QE(){return oe.lFrame.currentTNode}function sN(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ei(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Fp(){return oe.lFrame.isParent}function YE(){oe.lFrame.isParent=!1}function oN(){return oe.lFrame.contextLView}function ZE(){return WE}function Fw(t){WE=t}function aN(t){return oe.lFrame.bindingIndex=t}function Lp(){return oe.lFrame.bindingIndex++}function cN(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function uN(){return oe.lFrame.inI18n}function lN(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yf(e)}function dN(){return oe.lFrame.currentDirectiveIndex}function Yf(t){oe.lFrame.currentDirectiveIndex=t}function hN(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function JE(t){oe.lFrame.currentQueryIndex=t}function fN(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[en]:null}function XE(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=fN(s),i===null||(s=s[ms],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=eD();return r.currentTNode=e,r.lView=t,!0}function Vp(t){let e=eD(),n=t[ue];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eD(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?tD(t):e}function tD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nD(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rD=nD;function Up(){let t=nD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pN(t){return(oe.lFrame.contextLView=ZM(t,oe.lFrame.contextLView))[Xt]}function ta(){return oe.lFrame.selectedIndex}function Gr(t){oe.lFrame.selectedIndex=t}function jp(){let t=oe.lFrame;return HE(t.tView,t.selectedIndex)}function gN(){return oe.lFrame.currentNamespace}var iD=!0;function ul(){return iD}function ll(t){iD=t}function mN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=jE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function dl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Su(t,e,n){sD(t,e,3,n)}function Au(t,e,n,r){(t[Q]&3)===n&&sD(t,e,n,r)}function Mf(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function sD(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Xi]+=65536),(a<s||s==-1)&&(yN(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function Lw(t,e){an(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),an(5,t,e)}}function yN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[Xi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Lw(a,s)):Lw(a,s)}var ns=-1,Wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function vN(t){return t instanceof Wr}function _N(t){return(t.flags&8)!==0}function IN(t){return(t.flags&16)!==0}var Nf={},Zf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nl(r);let i=this.injector.get(e,Nf,r);return i!==Nf||n===Nf?i:this.parentInjector.get(e,n,r)}};function oD(t){return t!==ns}function ju(t){return t&32767}function wN(t){return t>>16}function Bu(t,e){let n=wN(t),r=e;for(;n>0;)r=r[ms],n--;return r}var Jf=!0;function Vw(t){let e=Jf;return Jf=t,e}var EN=256,aD=EN-1,cD=5,DN=0,cn={};function bN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zo)&&(r=n[zo]),r==null&&(r=n[zo]=DN++);let i=r&aD,s=1<<i;e.data[t+(i>>cD)]|=s}function $u(t,e){let n=uD(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,xf(r.data,t),xf(e,null),xf(r.blueprint,null));let i=Bp(t,e),s=t.injectorIndex;if(oD(i)){let o=ju(i),a=Bu(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function xf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=pD(i),r===null)return ns;if(n++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ns}function Xf(t,e,n){bN(t,e,n)}function lD(t,e,n){if(n&re.Optional||t!==void 0)return t;Rp(e,"NodeInjector")}function dD(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[as],s=Ut(void 0);try{return i?i.get(e,r,n&re.Optional):yE(e,r,n&re.Optional)}finally{Ut(s)}}return lD(r,e,n)}function hD(t,e,n,r=re.Default,i){if(t!==null){if(e[Q]&2048&&!(r&re.Self)){let o=RN(t,e,n,r,cn);if(o!==cn)return o}let s=fD(t,e,n,r,cn);if(s!==cn)return s}return dD(e,n,r,i)}function fD(t,e,n,r,i){let s=SN(n);if(typeof s=="function"){if(!XE(e,t,r))return r&re.Host?lD(i,n,r):dD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Rp(n);else return o}finally{rD()}}else if(typeof s=="number"){let o=null,a=uD(t,e),u=ns,l=r&re.Host?e[dn][en]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?Bp(t,e):e[a+8],u===ns||!jw(r,!1)?a=-1:(o=e[ue],a=ju(u),e=Bu(u,e)));a!==-1;){let h=e[ue];if(Uw(s,a,h.data)){let p=CN(a,e,n,o,r,l);if(p!==cn)return p}u=e[a+8],u!==ns&&jw(r,e[ue].data[a+8]===l)&&Uw(s,a,e)?(o=h,a=ju(u),e=Bu(u,e)):a=-1}}return i}function CN(t,e,n,r,i,s){let o=e[ue],a=o.data[t+8],u=r==null?sl(a)&&Jf:r!=o&&(a.type&3)!==0,l=i&re.Host&&s===a,h=TN(a,o,n,u,l);return h!==null?ds(e,o,h,a):cn}function TN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let C=o[v];if(v<u&&n===C||v>=u&&C.type===n)return v}if(i){let v=o[u];if(v&&fr(v)&&v.type===n)return u}return null}function ds(t,e,n,r){let i=t[n],s=e.data;if(vN(i)){let o=i;o.resolving&&nM(tM(s[n]));let a=Vw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Ut(o.injectImpl):null,h=XE(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&mN(n,s[n],e)}finally{l!==null&&Ut(l),Vw(a),o.resolving=!1,rD()}}return i}function SN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zo)?t[zo]:void 0;return typeof e=="number"?e>=0?e&aD:AN:e}function Uw(t,e,n){let r=1<<t;return!!(n[e+(t>>cD)]&r)}function jw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var $r=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hD(this._tNode,this._lView,e,nl(r),n)}};function AN(){return new $r(wt(),Se())}function ys(t){return Xo(()=>{let e=t.prototype.constructor,n=e[Nu]||ep(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Nu]||ep(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ep(t){return dE(t)?()=>{let e=ep(mt(t));return e&&e()}:rs(t)}function RN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=fD(s,o,n,r|re.Self,cn);if(a!==cn)return a;let u=s.parent;if(!u){let l=o[LE];if(l){let h=l.get(n,cn,r);if(h!==cn)return h}u=pD(o),o=o[ms]}s=u}return i}function pD(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[en]:null}function Bw(t,e=null,n=null,r){let i=gD(t,e,n,r);return i.resolveInjectorInitializers(),i}function gD(t,e=null,n=null,r,i=new Set){let s=[n||jt,NM(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Ko(s,e||Pp(),r||null,i)}var _t=class t{static{this.THROW_IF_NOT_FOUND=Go}static{this.NULL=new Ou}static create(e,n){if(Array.isArray(e))return Bw({name:""},n,e,"");{let r=e.name??"";return Bw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=G({token:t,providedIn:"any",factory:()=>se(wE)})}static{this.__NG_ELEMENT_ID__=-1}};var MN=new H("");MN.__NG_ELEMENT_ID__=t=>{let e=wt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new $(204,!1)};var NN="ngOriginalError";function Pf(t){return t[NN]}var mD=!0,vs=(()=>{class t{static{this.__NG_ELEMENT_ID__=xN}static{this.__NG_ENV_ID__=n=>n}}return t})(),tp=class extends vs{constructor(e){super(),this._lView=e}onDestroy(e){return GE(this._lView,e),()=>JM(this._lView,e)}};function xN(){return new tp(Se())}var _s=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})();var np=class extends Ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,kE()&&(this.destroyRef=k(vs,{optional:!0})??void 0,this.pendingTasks=k(_s,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},je=np;function Hu(...t){}function yD(t){let e,n;function r(){t=Hu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function $w(t){return queueMicrotask(()=>t()),()=>{t=Hu}}var $p="isAngularZone",qu=$p+"_ID",PN=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=mD}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,FN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($p)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ON,Hu,Hu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ON={};function Hp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){yD(()=>{t.callbackScheduled=!1,rp(t),t.isCheckStableRunning=!0,Hp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),rp(t)}function FN(t){let e=()=>{kN(t)},n=PN++;t._inner=t._inner.fork({name:"angular",properties:{[$p]:!0,[qu]:n,[qu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(LN(u))return r.invokeTask(s,o,a,u);try{return Hw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return Hw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!VN(u)&&e(),qw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,rp(t),Hp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function rp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qw(t){t._nesting--,Hp(t)}var ip=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function LN(t){return vD(t,"__ignore_ng_zone__")}function VN(t){return vD(t,"__scheduler_tick__")}function vD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pf(e);for(;n&&Pf(n);)n=Pf(n);return n||null}},UN=new H("",{providedIn:"root",factory:()=>{let t=k(we),e=k(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function jN(){return hl(wt(),Se())}function hl(t,e){return new ti(qt(t,e))}var ti=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=jN}}return t})();function _D(t){return(t.flags&128)===128}var ID=new Map,BN=0;function $N(){return BN++}function HN(t){ID.set(t[il],t)}function sp(t){ID.delete(t[il])}var zw="__ngContext__";function pr(t,e){dr(e)?(t[zw]=e[il],HN(e)):t[zw]=e}function wD(t){return DD(t[Qo])}function ED(t){return DD(t[Jt])}function DD(t){for(;t!==null&&!Un(t);)t=t[Jt];return t}var op;function bD(t){op=t}function qN(){if(op!==void 0)return op;if(typeof document<"u")return document;throw new $(210,!1)}var qp=new H("",{providedIn:"root",factory:()=>zN}),zN="ng",zp=new H(""),_r=new H("",{providedIn:"platform",factory:()=>"unknown"});var Gp=new H("",{providedIn:"root",factory:()=>qN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var GN="h",WN="b";var KN=()=>null;function Wp(t,e,n=!1){return KN(t,e,n)}var CD=!1,QN=new H("",{providedIn:"root",factory:()=>CD});var zu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uE})`}};function fl(t){return t instanceof zu?t.changingThisBreaksApplicationSecurity:t}function TD(t,e){let n=YN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${uE})`)}return n===e}function YN(t){return t instanceof zu&&t.getTypeName()||null}var ZN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function SD(t){return t=String(t),t.match(ZN)?t:"unsafe:"+t}var Kp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kp||{});function pl(t){let e=JN();return e?e.sanitize(Kp.URL,t)||"":TD(t,"URL")?fl(t):SD(Ap(t))}function JN(){let t=Se();return t&&t[ln].sanitizer}var XN=/^>|^->|<!--|-->|--!>|<!-$/g,ex=/(<|>)/g,tx="\u200B$1\u200B";function nx(t){return t.replace(XN,e=>e.replace(ex,tx))}function Qp(t){return t.ownerDocument.defaultView}function AD(t){return t instanceof Function?t():t}var kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(kn||{}),rx;function Yp(t,e){return rx(t,e)}function es(t,e,n,r,i){if(r!=null){let s,o=!1;Un(r)?s=r:dr(r)&&(o=!0,r=r[Vn]);let a=fn(r);t===0&&n!==null?i==null?PD(e,n,a):Gu(e,n,a,i||null,!0):t===1&&n!==null?Gu(e,n,a,i||null,!0):t===2?vx(e,a,o):t===3&&e.destroyNode(a),s!=null&&Ix(e,t,s,n,i)}}function ix(t,e){return t.createText(e)}function sx(t,e){return t.createComment(nx(e))}function RD(t,e,n){return t.createElement(e,n)}function ox(t,e){MD(t,e),e[Vn]=null,e[en]=null}function ax(t,e,n,r,i,s){r[Vn]=i,r[en]=e,ml(t,r,n,1,i,s)}function MD(t,e){e[ln].changeDetectionScheduler?.notify(9),ml(t,e,e[Ge],2,null,null)}function cx(t){let e=t[Qo];if(!e)return Of(t[ue],t);for(;e;){let n=null;if(dr(e))n=e[Qo];else{let r=e[$t];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)dr(e)&&Of(e[ue],e),e=e[vt];e===null&&(e=t),dr(e)&&Of(e[ue],e),n=e&&e[Jt]}e=n}}function ux(t,e,n,r){let i=$t+r,s=n.length;r>0&&(n[i-1][Jt]=e),r<s-$t?(e[Jt]=n[i],IE(n,$t+r,e)):(n.push(e),e[Jt]=null),e[vt]=n;let o=e[cs];o!==null&&n!==o&&ND(o,e);let a=e[us];a!==null&&a.insertView(t),Qf(e),e[Q]|=128}function ND(t,e){let n=t[Vu],r=e[vt];if(dr(r))t[Q]|=Uu.HasTransplantedViews;else{let i=r[vt][dn];e[dn]!==i&&(t[Q]|=Uu.HasTransplantedViews)}n===null?t[Vu]=[e]:n.push(e)}function Zp(t,e){let n=t[Vu],r=n.indexOf(e);n.splice(r,1)}function ap(t,e){if(t.length<=$t)return;let n=$t+e,r=t[n];if(r){let i=r[cs];i!==null&&i!==t&&Zp(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let s=Pu(t,$t+e);ox(r[ue],r);let o=s[us];o!==null&&o.detachView(s[ue]),r[vt]=null,r[Jt]=null,r[Q]&=-129}return r}function xD(t,e){if(!(e[Q]&256)){let n=e[Ge];n.destroyNode&&ml(t,e,n,3,null,null),cx(e)}}function Of(t,e){if(e[Q]&256)return;let n=pe(null);try{e[Q]&=-129,e[Q]|=256,e[Bt]&&cf(e[Bt]),dx(t,e),lx(t,e),e[ue].type===1&&e[Ge].destroy();let r=e[cs];if(r!==null&&Un(e[vt])){r!==e[vt]&&Zp(r,e);let i=e[us];i!==null&&i.detachView(t)}sp(e)}finally{pe(n)}}function lx(t,e){let n=t.cleanup,r=e[Fu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Fu]=null);let i=e[lr];if(i!==null){e[lr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function dx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];an(4,a,u);try{u.call(a)}finally{an(5,a,u)}}else{an(4,i,s);try{s.call(i)}finally{an(5,i,s)}}}}}function hx(t,e,n){return fx(t,e.parent,n)}function fx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Vn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return qt(r,n)}}function Gu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PD(t,e,n){t.appendChild(e,n)}function Gw(t,e,n,r,i){r!==null?Gu(t,e,n,r,i):PD(t,e,n)}function OD(t,e){return t.parentNode(e)}function px(t,e){return t.nextSibling(e)}function gx(t,e,n){return yx(t,e,n)}function mx(t,e,n){return t.type&40?qt(t,n):null}var yx=mx,Ww;function gl(t,e,n,r){let i=hx(t,r,e),s=e[Ge],o=r.parent||e[en],a=gx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Gw(s,i,n[u],a,!1);else Gw(s,i,n,a,!1);Ww!==void 0&&Ww(s,r,e,n,i)}function Ho(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return cp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ho(t,r);{let i=t[e.index];return Un(i)?cp(-1,i):fn(i)}}else{if(n&128)return Ho(t,e.next);if(n&32)return Yp(e,t)()||fn(t[e.index]);{let r=kD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(t[dn]);return Ho(i,r)}else return Ho(t,e.next)}}}return null}function kD(t,e){if(e!==null){let r=t[dn][en],i=e.projection;return r.projection[i]}return null}function cp(t,e){let n=$t+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Ho(r,i)}return e[qr]}function vx(t,e,n){t.removeChild(null,e,n)}function Jp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&pr(fn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Jp(t,e,n.child,r,i,s,!1),es(e,t,i,a,s);else if(u&32){let l=Yp(n,r),h;for(;h=l();)es(e,t,i,h,s);es(e,t,i,a,s)}else u&16?_x(t,e,r,n,i,s):es(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ml(t,e,n,r,i,s){Jp(n,r,t.firstChild,e,i,s,!1)}function _x(t,e,n,r,i,s){let o=n[dn],u=o[en].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];es(e,t,i,h,s)}else{let l=u,h=o[vt];_D(r)&&(l.flags|=128),Jp(t,e,l,h,i,s,!0)}}function Ix(t,e,n,r,i){let s=n[qr],o=fn(n);s!==o&&es(e,t,r,s,i);for(let a=$t;a<n.length;a++){let u=n[a];ml(u[ue],u,t,e,r,s)}}function wx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:kn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=kn.Important),t.setStyle(n,r,i,s))}}function Ex(t,e,n){t.setAttribute(e,"style",n)}function FD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Hf(t,e,r),i!==null&&FD(t,e,i),s!==null&&Ex(t,e,s)}var yl={};function bt(t=1){VD(It(),Se(),ta()+t,!1)}function VD(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Su(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Au(e,s,0,n)}Gr(n)}function Ce(t,e=re.Default){let n=Se();if(n===null)return se(t,e);let r=wt();return hD(r,n,mt(t),e)}function UD(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&hr.SignalBased&&(a=e[r][Nn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&hr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):UE(e,a,r,s)}finally{pe(o)}}function Dx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gr(~i);else{let s=i,o=n[++r],a=n[++r];lN(o,s);let u=e[s];a(2,u)}}}finally{Gr(-1)}}function vl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Vn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),qE(p),p[vt]=p[ms]=t,p[Xt]=n,p[ln]=o||t&&t[ln],p[Ge]=a||t&&t[Ge],p[as]=u||t&&t[as]||null,p[en]=s,p[il]=$N(),p[ku]=h,p[LE]=l,p[dn]=e.type==2?t[dn]:p,p}function na(t,e,n,r,i){let s=t.data[e];if(s===null)s=bx(t,e,n,r,i),uN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=sN();s.injectorIndex=o===null?-1:o.injectorIndex}return ei(s,!0),s}function bx(t,e,n,r,i){let s=QE(),o=Fp(),a=o?s:s&&s.parent,u=t.data[e]=Rx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function jD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BD(t,e,n,r,i){let s=ta(),o=r&2;try{Gr(-1),o&&e.length>hn&&VD(t,e,hn,!1),an(o?2:0,i),n(r,i)}finally{Gr(s),an(o?3:1,i)}}function Xp(t,e,n){if(Op(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function eg(t,e,n){KE()&&(kx(t,e,n,qt(n,e)),(n.flags&64)===64&&zD(t,e,n))}function tg(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function $D(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ng(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ng(t,e,n,r,i,s,o,a,u,l,h){let p=hn+r,m=p+i,v=Cx(p,m),C=typeof l=="function"?l():l;return v[ue]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function Cx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:yl);return n}function Tx(t,e,n,r){let s=r.get(QN,CD)||n===un.ShadowDom,o=t.selectRootElement(e,s);return Sx(o),o}function Sx(t){Ax(t)}var Ax=()=>null;function Rx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Kw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=hr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Qw(r,n,l,a,u):Qw(r,n,l,a)}return r}function Qw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Mx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,C=m?m.outputs:null;u=Kw(0,p.inputs,h,u,v),l=Kw(1,p.outputs,h,l,C);let M=u!==null&&o!==null&&!Np(e)?Gx(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Nx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function HD(t,e,n,r,i,s,o,a){let u=qt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(ig(t,n,h,r,i),sl(e)&&xx(n,e.index)):e.type&3?(r=Nx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function xx(t,e){let n=mr(e,t);n[Q]&16||(n[Q]|=64)}function rg(t,e,n,r){if(KE()){let i=r===null?null:{"":-1},s=Lx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&qD(t,e,n,o,i,a),i&&Vx(n,r,i)}n.mergedAttrs=Wo(n.mergedAttrs,n.attrs)}function qD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Xf($u(n,e),t,r[l].type);jx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=jD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Wo(n.mergedAttrs,h.hostAttrs),Bx(t,n,e,u,h),Ux(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Mx(t,n,s)}function Px(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Ox(o)!=a&&o.push(a),o.push(n,r,s)}}function Ox(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function kx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;sl(n)&&$x(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$u(n,e),pr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ds(e,t,a,n);if(pr(l,e),o!==null&&zx(e,a-i,l,u,n,o),fr(u)){let h=mr(n.index,e);h[Xt]=ds(e,t,a,n)}}}function zD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=dN();try{Gr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Yf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Fx(u,l)}}finally{Gr(-1),Yf(o)}}function Fx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Lx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(EM(e,o.selectors,!1))if(r||(r=[]),fr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;up(t,e,u)}else r.unshift(o),up(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function up(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Vx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function Ux(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function jx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=rs(i.type,!0)),o=new Wr(s,fr(i),Ce);t.blueprint[r]=o,n[r]=o,Px(t,e,r,jD(t,n,i.hostVars,yl),i)}function $x(t,e,n){let r=qt(e,t),i=$D(n),s=t[ln].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=_l(t,vl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Hx(t,e,n,r,i,s){let o=qt(t,e);qx(e[Ge],o,s,t.value,n,r,i)}function qx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ap(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function zx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];UD(r,n,u,l,h,p)}}function Gx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function GD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function WD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];JE(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function _l(t,e){return t[Qo]?t[Ow][Jt]=e:t[Qo]=e,t[Ow]=e,e}function lp(t,e,n){JE(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function Wx(t){return t[Fu]??=[]}function Kx(t){return t.cleanup??=[]}function KD(t,e){let n=t[as],r=n?n.get(On,null):null;r&&r.handleError(e)}function ig(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];UD(h,l,r,a,u,i)}}function Qx(t,e){let n=mr(e,t),r=n[ue];Yx(r,n);let i=n[Vn];i!==null&&n[ku]===null&&(n[ku]=Wp(i,n[as])),sg(r,n,n[Xt])}function Yx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function sg(t,e,n){Vp(e);try{let r=t.viewQuery;r!==null&&lp(1,r,n);let i=t.template;i!==null&&BD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[us]?.finishViewCreation(t),t.staticContentQueries&&WD(t,e),t.staticViewQueries&&lp(2,t.viewQuery,n);let s=t.components;s!==null&&Zx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Up()}}function Zx(t,e){for(let n=0;n<e.length;n++)Qx(t,e[n])}function Jx(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=vl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[cs]=l;let h=t[us];return h!==null&&(u[us]=h.createEmbeddedView(s)),sg(s,u,n),u}finally{pe(i)}}function Yw(t,e){return!e||e.firstChild===null||_D(t)}function Xx(t,e,n,r=!0){let i=e[ue];if(ux(i,e,t,n),r){let o=cp(n,t),a=e[Ge],u=OD(a,t[qr]);u!==null&&ax(i,t[en],a,e,u,o)}let s=e[ku];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Wu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(fn(s)),Un(s)&&eP(s,r);let o=n.type;if(o&8)Wu(t,e,n.child,r);else if(o&32){let a=Yp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=kD(e,n);if(Array.isArray(a))r.push(...a);else{let u=zr(e[dn]);Wu(u[ue],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eP(t,e){for(let n=$t;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&Wu(r[ue],r,i,e)}t[qr]!==t[Vn]&&e.push(t[qr])}var QD=[];function tP(t){return t[Bt]??nP(t)}function nP(t){let e=QD.pop()??Object.create(iP);return e.lView=t,e}function rP(t){t.lView[Bt]!==t&&(t.lView=null,QD.push(t))}var iP=ae(F({},Vo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{cl(t.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function sP(t){let e=t[Bt]??Object.create(oP);return e.lView=t,e}var oP=ae(F({},Vo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=zr(t.lView);for(;e&&!YD(e[ue]);)e=zr(e);e&&zE(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function YD(t){return t.type!==2}var aP=100;function ZD(t,e=!0,n=0){let r=t[ln],i=r.rendererFactory,s=!1;s||i.begin?.();try{cP(t,n)}catch(o){throw e&&KD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function cP(t,e){let n=ZE();try{Fw(!0),dp(t,e);let r=0;for(;al(t);){if(r===aP)throw new $(103,!1);r++,dp(t,1)}}finally{Fw(n)}}function uP(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ln].inlineEffectRunner?.flush(),Vp(e);let a=!0,u=null,l=null;s||(YD(t)?(l=tP(e),u=zc(l)):jI()===null?(a=!1,l=sP(e),u=zc(l)):e[Bt]&&(cf(e[Bt]),e[Bt]=null));try{qE(e),aN(t.bindingStartIndex),n!==null&&BD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Su(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Au(e,v,0,null),Mf(e,0)}if(o||lP(e),JD(e,0),t.contentQueries!==null&&WD(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Su(e,v)}else{let v=t.contentHooks;v!==null&&Au(e,v,1),Mf(e,1)}Dx(t,e);let p=t.components;p!==null&&eb(e,p,0);let m=t.viewQuery;if(m!==null&&lp(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Su(e,v)}else{let v=t.viewHooks;v!==null&&Au(e,v,2),Mf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rf]){for(let v of e[Rf])v();e[Rf]=null}s||(e[Q]&=-73)}catch(h){throw s||cl(e),h}finally{l!==null&&(of(l,u),a&&rP(l)),Up()}}function JD(t,e){for(let n=wD(t);n!==null;n=ED(n))for(let r=$t;r<n.length;r++){let i=n[r];XD(i,e)}}function lP(t){for(let e=wD(t);e!==null;e=ED(e)){if(!(e[Q]&Uu.HasTransplantedViews))continue;let n=e[Vu];for(let r=0;r<n.length;r++){let i=n[r];zE(i)}}}function dP(t,e,n){let r=mr(e,t);XD(r,n)}function XD(t,e){kp(t)&&dp(t,e)}function dp(t,e){let r=t[ue],i=t[Q],s=t[Bt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&af(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)uP(r,t,r.template,t[Xt]);else if(i&8192){JD(t,1);let a=r.components;a!==null&&eb(t,a,1)}}function eb(t,e,n){for(let r=0;r<e.length;r++)dP(t,e[r],n)}function og(t,e){let n=ZE()?64:1088;for(t[ln].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=zr(t);if(Wf(t)&&!r)return t;t=r}return null}var Kr=class{get rootNodes(){let e=this._lView,n=e[ue];return Wu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(Un(e)){let n=e[Lu],r=n?n.indexOf(this):-1;r>-1&&(ap(e,r),Pu(n,r))}this._attachedToViewContainer=!1}xD(this._lView[ue],this._lView)}onDestroy(e){GE(this._lView,e)}markForCheck(){og(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Qf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,ZD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wf(this._lView),n=this._lView[cs];n!==null&&!e&&Zp(n,this._lView),MD(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Wf(this._lView),r=this._lView[cs];r!==null&&!n&&ND(r,this._lView),Qf(this._lView)}},Il=(()=>{class t{static{this.__NG_ELEMENT_ID__=pP}}return t})(),hP=Il,fP=class extends hP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Jx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Kr(i)}};function pP(){return tb(wt(),Se())}function tb(t,e){return t.type&4?new fP(e,t,hl(t,e)):null}var E3=new RegExp(`^(\\d+)*(${WN}|${GN})*(.*)`);var gP=()=>null;function Zw(t,e){return gP(t,e)}var hs=class{},wl=new H("",{providedIn:"root",factory:()=>!1});var nb=new H(""),rb=new H(""),hp=class{},Ku=class{};function mP(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[yP]=t,e}var yP="ngComponent";var fp=class{resolveComponentFactory(e){throw mP(e)}},fs=class{static{this.NULL=new fp}},ps=class{},Is=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>vP()}}return t})();function vP(){let t=Se(),e=wt(),n=mr(e.index,t);return(dr(n)?n:t)[Ge]}var _P=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}}return t})();function Qu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=bw(i,a);else if(s==2){let u=a,l=e[++o];r=bw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yu=class extends fs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hr(e);return new Yo(n,this.ngModule)}};function Jw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:hr.None;e?n.push({propName:o,templateName:r,isSignal:(a&hr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function IP(t){let e=t.toLowerCase();return e==="svg"?GM:e==="math"?WM:null}var Yo=class extends Ku{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Jw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Jw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=TM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Ht?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Zf(e,o):e,u=a.get(ps,null);if(u===null)throw new $(407,!1);let l=a.get(_P,null),h=a.get(hs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=r?Tx(m,r,this.componentDef.encapsulation,a):RD(m,v,IP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;C!==null&&(R=Wp(C,a,!0));let O=ng(0,null,null,1,0,null,null,null,null,null,null),j=vl(null,O,null,M,null,null,p,m,a,null,R);Vp(j);let V,B,_e=null;try{let z=this.componentDef,w,y=null;z.findHostDirectiveDefs?(w=[],y=new Map,z.findHostDirectiveDefs(z,w,y),w.push(z)):w=[z];let _=wP(j,C);_e=EP(_,C,z,w,j,p,m),B=HE(O,hn),C&&CP(m,z,C,r),n!==void 0&&TP(B,this.ngContentSelectors,n),V=bP(_e,z,w,y,j,[SP]),sg(O,j,null)}catch(z){throw _e!==null&&sp(_e),sp(j),z}finally{Up()}return new pp(this.componentType,V,hl(B,j),j,B)}finally{pe(s)}}},pp=class extends hp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ig(s[ue],s,i,e,n),this.previousInputValues.set(e,n);let o=mr(this._tNode.index,s);og(o,1)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wP(t,e){let n=t[ue],r=hn;return t[r]=e,na(n,r,2,"#host",null)}function EP(t,e,n,r,i,s,o){let a=i[ue];DP(r,t,e,o);let u=null;e!==null&&(u=Wp(e,i[as]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=vl(i,$D(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&up(a,t,r.length-1),_l(i,p),i[t.index]=p}function DP(t,e,n,r){for(let i of t)e.mergedAttrs=Wo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qu(e,e.mergedAttrs,!0),n!==null&&LD(r,n,e))}function bP(t,e,n,r,i,s){let o=wt(),a=i[ue],u=qt(o,i);qD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=ds(i,a,p,o);pr(m,i)}zD(a,i,o),u&&pr(u,i);let l=ds(i,a,o.directiveStart+o.componentOffset,o);if(t[Xt]=i[Xt]=l,s!==null)for(let h of s)h(l,e);return Xp(a,o,i),l}function CP(t,e,n,r){if(r)Hf(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=SM(e.selectors[0]);i&&Hf(t,n,i),s&&s.length>0&&FD(t,n,s.join(" "))}}function TP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function SP(){let t=wt();dl(Se()[ue],t)}var ws=(()=>{class t{static{this.__NG_ELEMENT_ID__=AP}}return t})();function AP(){let t=wt();return MP(t,Se())}var RP=ws,ib=class extends RP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return hl(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bp(this._hostTNode,this._hostLView);if(oD(e)){let n=Bu(e,this._hostLView),r=ju(e),i=n[ue].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Xw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Zw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Yw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!$M(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Yo(Hr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Ht,null);M&&(s=M)}let h=Hr(u.componentType??{}),p=Zw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Yw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(YM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[vt],l=new ib(u,u[en],u[vt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Xx(o,i,s,r),e.attachToViewContainerRef(),IE(kf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Xw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ap(this._lContainer,n);r&&(Pu(kf(this._lContainer),n),xD(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=ap(this._lContainer,n);return r&&Pu(kf(this._lContainer),n)!=null?new Kr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Xw(t){return t[Lu]}function kf(t){return t[Lu]||(t[Lu]=[])}function MP(t,e){let n,r=e[t.index];return Un(r)?n=r:(n=GD(r,e,null,t),e[t.index]=n,_l(e,n)),xP(n,e,t,r),new ib(n,t,e)}function NP(t,e){let n=t[Ge],r=n.createComment(""),i=qt(e,t),s=OD(n,i);return Gu(n,s,r,px(n,i),!1),r}var xP=kP,PP=()=>!1;function OP(t,e,n){return PP(t,e,n)}function kP(t,e,n,r){if(t[qr])return;let i;n.type&8?i=fn(r):i=NP(e,n),t[qr]=i}var eE=new Set;function ra(t){eE.has(t)||(eE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function FP(t){return typeof t=="function"&&t[Nn]!==void 0}function Es(t,e){ra("NgSignals");let n=ZI(t),r=n[Nn];return e?.equal&&(r.equal=e.equal),n.set=i=>uf(r,i),n.update=i=>JI(r,i),n.asReadonly=LP.bind(n),n}function LP(){let t=this[Nn];if(t.readonlyFn===void 0){let e=()=>this();e[Nn]=t,t.readonlyFn=e}return t.readonlyFn}function sb(t){return FP(t)&&typeof t.set=="function"}function VP(t){return Object.getPrototypeOf(t.prototype).constructor}function jn(t){let e=VP(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Du(t.inputs),o.inputTransforms=Du(t.inputTransforms),o.declaredInputs=Du(t.declaredInputs),o.outputs=Du(t.outputs);let a=i.hostBindings;a&&HP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&BP(t,u),l&&$P(t,l),UP(t,i),WR(t.outputs,i.outputs),fr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===jn&&(n=!1)}}e=Object.getPrototypeOf(e)}jP(r)}function UP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function jP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wo(i.hostAttrs,n=Wo(n,i.hostAttrs))}}function Du(t){return t===is?{}:t===jt?[]:t}function BP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function $P(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function HP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var gr=class{},Zo=class{};var gp=class extends gr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yu(this);let s=AE(e);this._bootstrapComponents=AD(s.bootstrap),this._r3Injector=gD(e,n,[{provide:gr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mp=class extends Zo{constructor(e){super(),this.moduleType=e}create(e){return new gp(this.moduleType,e,[])}};var Zu=class extends gr{constructor(e){super(),this.componentFactoryResolver=new Yu(this),this.instance=null;let n=new Ko([...e.providers,{provide:gr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],e.parent||Pp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ag(t,e,n=null){return new Zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ob(t){return zP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function qP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function zP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function El(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function GP(t){return(t.flags&32)===32}function WP(t,e,n,r,i,s,o,a,u){let l=e.consts,h=na(e,t,4,o||null,a||null);rg(e,n,h,ls(l,u)),dl(e,h);let p=h.tView=ng(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function KP(t,e,n,r,i,s,o,a,u,l){let h=n+hn,p=e.firstCreatePass?WP(h,e,t,r,i,s,o,a,u):e.data[h];ei(p,!1);let m=QP(e,t,p,n);ul()&&gl(e,t,m,p),pr(m,t);let v=GD(m,t,m,p);return t[h]=v,_l(t,v),OP(v,p,t),ol(p)&&eg(e,t,p),u!=null&&tg(t,p,l),p}function Ir(t,e,n,r,i,s,o,a){let u=Se(),l=It(),h=ls(l.consts,s);return KP(u,l,t,e,n,r,i,h,o,a),Ir}var QP=YP;function YP(t,e,n,r){return ll(!0),e[Ge].createComment("")}var qo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qo||{}),ZP=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})(),tE=class t{constructor(){this.ngZone=k(we),this.scheduler=k(hs),this.errorHandler=k(On,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[qo.EarlyRead,qo.Write,qo.MixedReadWrite,qo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}};function Dl(t,e,n,r){let i=Se(),s=Lp();if(El(i,s,e)){let o=It(),a=jp();Hx(a,i,t,e,n,r)}return Dl}function bu(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function JP(t){return(t&2)==2}function XP(t,e){return t&131071|e<<17}function yp(t){return t|2}function gs(t){return(t&131068)>>2}function Ff(t,e){return t&-131069|e<<2}function eO(t){return(t&1)===1}function vp(t){return t|1}function tO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qr(o),u=gs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ea(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Qr(t[a+1]);t[r+1]=bu(m,a),m!==0&&(t[m+1]=Ff(t[m+1],r)),t[a+1]=XP(t[a+1],r)}else t[r+1]=bu(a,0),a!==0&&(t[a+1]=Ff(t[a+1],r)),a=r;else t[r+1]=bu(u,0),a===0?a=r:t[u+1]=Ff(t[u+1],r),u=r;l&&(t[r+1]=yp(t[r+1])),nE(t,h,r,!0),nE(t,h,r,!1),nO(e,h,t,r,s),o=bu(a,u),s?e.classBindings=o:e.styleBindings=o}function nO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ea(s,e)>=0&&(n[r+1]=vp(n[r+1]))}function nE(t,e,n,r){let i=t[n+1],s=e===null,o=r?Qr(i):gs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];rO(u,e)&&(a=!0,t[o+1]=r?vp(l):yp(l)),o=r?Qr(l):gs(l)}a&&(t[n+1]=r?yp(i):vp(i))}function rO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ea(t,e)>=0:!1}function Nt(t,e,n){let r=Se(),i=Lp();if(El(r,i,e)){let s=It(),o=jp();HD(s,o,r,t,e,r[Ge],n,!1)}return Nt}function rE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ig(t,n,s[o],o,r)}function ni(t,e){return iO(t,e,null,!0),ni}function iO(t,e,n,r){let i=Se(),s=It(),o=cN(2);if(s.firstUpdatePass&&oO(s,t,o,r),e!==yl&&El(i,o,e)){let a=s.data[ta()];dO(s,a,i,i[Ge],t,i[o+1]=hO(e,n),r,o)}}function sO(t,e){return e>=t.expandoStartIndex}function oO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ta()],o=sO(t,n);fO(s,r)&&e===null&&!o&&(e=!1),e=aO(i,s,e,r),tO(i,s,e,n,o,r)}}function aO(t,e,n,r){let i=hN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Lf(null,t,e,n,r),n=Jo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Lf(i,t,e,n,r),s===null){let u=cO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Lf(null,t,e,u[1],r),u=Jo(u,e.attrs,r),uO(t,e,r,u))}else s=lO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function cO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gs(r)!==0)return t[Qr(r)]}function uO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qr(i)]=r}function lO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Jo(r,o,n)}return Jo(r,e.attrs,n)}function Lf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Jo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Jo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function dO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=eO(l)?iE(u,e,n,i,gs(l),o):void 0;if(!Ju(h)){Ju(s)||JP(l)&&(s=iE(u,null,n,i,a,o));let p=KM(ta(),n);wx(r,o,p,i,s)}}function iE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===yl&&(m=p?jt:void 0);let v=p?Sf(m,r):h===r?m:void 0;if(l&&!Ju(v)&&(v=Sf(u,r)),Ju(v)&&(a=v,o))return a;let C=t[i+1];i=o?Qr(C):gs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Sf(u,r))}return a}function Ju(t){return t!==void 0}function hO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(fl(t)))),t}function fO(t,e){return(t.flags&(e?8:16))!==0}function pO(t,e,n,r,i,s){let o=e.consts,a=ls(o,i),u=na(e,t,2,r,a);return rg(e,n,u,ls(o,s)),u.attrs!==null&&Qu(u,u.attrs,!1),u.mergedAttrs!==null&&Qu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function W(t,e,n,r){let i=Se(),s=It(),o=hn+t,a=i[Ge],u=s.firstCreatePass?pO(o,s,i,e,n,r):s.data[o],l=gO(s,i,u,a,e,t);i[o]=l;let h=ol(u);return ei(u,!0),LD(a,l,u),!GP(u)&&ul()&&gl(s,i,l,u),XM()===0&&pr(l,i),eN(),h&&(eg(s,i,u),Xp(s,u,i)),r!==null&&tg(i,u),W}function X(){let t=wt();Fp()?YE():(t=t.parent,ei(t,!1));let e=t;rN(e)&&iN(),tN();let n=It();return n.firstCreatePass&&(dl(n,t),Op(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_N(e)&&rE(n,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IN(e)&&rE(n,e,Se(),e.stylesWithoutHost,!1),X}function Ke(t,e,n,r){return W(t,e,n,r),X(),Ke}var gO=(t,e,n,r,i,s)=>(ll(!0),RD(r,i,gN()));function mO(t,e,n,r,i){let s=e.consts,o=ls(s,r),a=na(e,t,8,"ng-container",o);o!==null&&Qu(a,o,!0);let u=ls(s,i);return rg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function cg(t,e,n){let r=Se(),i=It(),s=t+hn,o=i.firstCreatePass?mO(s,i,r,e,n):i.data[s];ei(o,!0);let a=yO(i,r,o,t);return r[s]=a,ul()&&gl(i,r,a,o),pr(a,r),ol(o)&&(eg(i,r,o),Xp(i,o,r)),n!=null&&tg(r,o),cg}function ug(){let t=wt(),e=It();return Fp()?YE():(t=t.parent,ei(t,!1)),e.firstCreatePass&&(dl(e,t),Op(t)&&e.queries.elementEnd(t)),ug}var yO=(t,e,n,r)=>(ll(!0),sx(e[Ge],""));function ia(){return Se()}var Xu="en-US";var vO=Xu;function _O(t){typeof t=="string"&&(vO=t.toLowerCase().replace(/_/g,"-"))}var IO=(t,e,n)=>{};function ut(t,e,n,r){let i=Se(),s=It(),o=wt();return ab(s,i,i[Ge],o,t,e,r),ut}function wO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Fu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function ab(t,e,n,r,i,s,o){let a=ol(r),l=t.firstCreatePass&&Kx(t),h=e[Xt],p=Wx(e),m=!0;if(r.type&3||o){let M=qt(r,e),R=o?o(M):M,O=p.length,j=o?B=>o(fn(B[r.index])):r.index,V=null;if(!o&&a&&(V=wO(t,e,i,r.index)),V!==null){let B=V.__ngLastListenerFn__||V;B.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=oE(r,e,h,s),IO(M,i,s);let B=n.listen(R,i,s);p.push(s,B),l&&l.push(i,j,O,O+1)}}else s=oE(r,e,h,s);let v=r.outputs,C;if(m&&v!==null&&(C=v[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let O=C[R],j=C[R+1],_e=e[O][j].subscribe(s),z=p.length;p.push(s,_e),l&&l.push(i,r.index,z,-(z+1))}}}function sE(t,e,n,r){let i=pe(null);try{return an(6,e,n),n(r)!==!1}catch(s){return KD(t,s),!1}finally{an(7,e,n),pe(i)}}function oE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?mr(t.index,e):e;og(o,5);let a=sE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=sE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function sa(t=1){return pN(t)}function cb(t){let e=oN();return QM(e,hn+t)}function Ee(t,e=""){let n=Se(),r=It(),i=t+hn,s=r.firstCreatePass?na(r,i,1,e,null):r.data[i],o=EO(r,n,s,e,t);n[i]=o,ul()&&gl(r,n,o,s),ei(s,!1)}var EO=(t,e,n,r,i)=>(ll(!0),ix(e[Ge],r));function bl(t,e,n){sb(e)&&(e=e());let r=Se(),i=Lp();if(El(r,i,e)){let s=It(),o=jp();HD(s,o,r,t,e,r[Ge],n,!1)}return bl}function lg(t,e){let n=sb(t);return n&&t.set(e),n}function Cl(t,e){let n=Se(),r=It(),i=wt();return ab(r,n,n[Ge],i,t,e),Cl}function DO(t,e,n){let r=It();if(r.firstCreatePass){let i=fr(t);_p(n,r.data,r.blueprint,i,!0),_p(e,r.data,r.blueprint,i,!1)}}function _p(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)_p(t[s],e,n,r,i);else{let s=It(),o=Se(),a=wt(),u=os(t)?t:mt(t.provide),l=OE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(os(t)||!t.multi){let v=new Wr(l,i,Ce),C=Uf(u,e,i?h:h+m,p);C===-1?(Xf($u(a,o),s,u),Vf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[C]=v,o[C]=v)}else{let v=Uf(u,e,h+m,p),C=Uf(u,e,h,h+m),M=v>=0&&n[v],R=C>=0&&n[C];if(i&&!R||!i&&!M){Xf($u(a,o),s,u);let O=TO(i?CO:bO,n.length,i,r,l);!i&&R&&(n[C].providerFactory=O),Vf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=ub(n[i?C:v],l,!i&&r);Vf(s,t,v>-1?v:C,O)}!i&&r&&R&&n[C].componentProviders++}}}function Vf(t,e,n,r){let i=os(e),s=kM(e);if(i||s){let u=(s?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function ub(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Uf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bO(t,e,n,r){return Ip(this.multi,[])}function CO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ds(n,n[ue],this.providerFactory.index,r);s=a.slice(0,o),Ip(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ip(i,s);return s}function Ip(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function TO(t,e,n,r,i){let s=new Wr(t,n,Ce);return s.multi=[],s.index=e,s.componentProviders=0,ub(s,i,r&&!n),s}function oa(t,e=[]){return n=>{n.providersResolver=(r,i)=>DO(r,i?i(t):t,e)}}var SO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=NE(!1,n.type),i=r.length>0?ag([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(se(Ht))})}}return t})();function lt(t){ra("NgStandalone"),t.getStandaloneInjector=e=>e.get(SO).getOrCreateStandaloneInjector(t)}function lb(t,e){return tb(t,e)}var Fn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},db=new Fn("18.2.13");var Tl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var hb=new H("");function ri(t){return!!t&&typeof t.then=="function"}function fb(t){return!!t&&typeof t.subscribe=="function"}var pb=new H(""),gb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(pb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(ri(s))n.push(s);else if(fb(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dg=new H("");function AO(){YI(()=>{throw new $(600,!1)})}function RO(t){return t.isBoundToModule}var MO=10;function NO(t,e,n){try{let r=n();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ii=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(UN),this.afterRenderManager=k(ZP),this.zonelessEnabled=k(wl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=k(_s).hasPendingTasks.pipe(ne(n=>!n)),this._injector=k(Ht)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ku;if(!this._injector.get(gb).done){let m=!i&&SE(n),v=!1;throw new $(405,v)}let o;i?o=n:o=this._injector.get(fs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=RO(o)?void 0:this._injector.get(gr),u=r||o.selector,l=o.create(_t.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(hb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ru(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ps,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<MO;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)xO(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>al(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ru(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(dg,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ru(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ru(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xO(t,e,n,r){if(!n&&!al(t))return;ZD(t,e,n&&!r?0:1)}var wp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hg=(()=>{class t{compileModuleSync(n){return new mp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=AE(n),s=AD(i.declarations).reduce((o,a)=>{let u=Hr(a);return u&&o.push(new Yo(u)),o},[]);return new wp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var PO=(()=>{class t{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(hs),this.applicationRef=k(ii)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OO=new H("",{factory:()=>!1});function mb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ae(F({},vb()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:ss,multi:!0,useFactory:()=>{let r=k(PO,{optional:!0});return()=>r.initialize()}},{provide:ss,multi:!0,useFactory:()=>{let r=k(kO);return()=>{r.initialize()}}},e===!0?{provide:nb,useValue:!0}:[],{provide:rb,useValue:n??mD}]}function yb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=mb({ngZoneFactory:()=>{let i=vb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ra("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return pn([{provide:OO,useValue:!0},{provide:wl,useValue:!1},r])}function vb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kO=(()=>{class t{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(_s)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FO=(()=>{class t{constructor(){this.appRef=k(ii),this.taskService=k(_s),this.ngZone=k(we),this.zonelessEnabled=k(wl),this.disableScheduling=k(nb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Oe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(rb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ip||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?$w:yD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$w(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function LO(){return typeof $localize<"u"&&$localize.locale||Xu}var fg=new H("",{providedIn:"root",factory:()=>k(fg,re.Optional|re.SkipSelf)||LO()});var Ep=new H("");function Cu(t){return!t.moduleRef}function VO(t){let e=Cu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Cu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Cu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Ep);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Ep);o.add(s),t.moduleRef.onDestroy(()=>{Ru(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return NO(r,n,()=>{let s=e.get(gb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(fg,Xu);if(_O(o||Xu),Cu(t)){let a=e.get(ii);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return UO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function UO(t,e){let n=t.injector.get(ii);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Mu=null;function jO(t=[],e){return _t.create({name:e,providers:[{provide:rl,useValue:"platform"},{provide:Ep,useValue:new Set([()=>Mu=null])},...t]})}function BO(t=[]){if(Mu)return Mu;let e=jO(t);return Mu=e,AO(),$O(e),e}function $O(t){t.get(zp,null)?.forEach(n=>n())}var si=(()=>{class t{static{this.__NG_ELEMENT_ID__=HO}}return t})();function HO(t){return qO(wt(),Se(),(t&16)===16)}function qO(t,e,n){if(sl(t)&&!n){let r=mr(t.index,e);return new Kr(r,r)}else if(t.type&175){let r=e[dn];return new Kr(r,e)}return null}var Dp=class{constructor(){}supports(e){return ob(e)}create(e){return new bp(e)}},zO=(t,e)=>e,bp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<aE(r,i,s)?n:r,a=aE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,C=v+m;h<=C&&C<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ob(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,qP(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Cp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new el),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new el),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Tp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},el=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Tp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cE(){return new pg([new Dp])}var pg=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:cE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cE()),deps:[[t,new _E,new ot]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function _b(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=BO(r),s=[mb({}),{provide:hs,useExisting:FO},...n||[]],o=new Zu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return VO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function aa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ds(t,e){ra("NgSignals");let n=WI(t);return e?.equal&&(n[Nn].equal=e.equal),n}function gn(t){let e=pe(null);try{return t()}finally{pe(e)}}var bb=null;function Bn(){return bb}function Cb(t){bb??=t}var Sl=class{};var zt=new H(""),Tb=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(KO),providedIn:"platform"})}}return t})();var KO=(()=>{class t extends Tb{constructor(){super(),this._doc=k(zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bn().getBaseHref(this._doc)}onPopState(n){let r=Bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Sb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Ib(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function oi(t){return t&&t[0]!=="?"?"?"+t:t}var Rl=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(Ab),providedIn:"root"})}}return t})(),QO=new H(""),Ab=(()=>{class t extends Rl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+oi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+oi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+oi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(se(Tb),se(QO,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ca=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=JO(Ib(wb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+oi(r))}normalize(n){return t.stripTrailingSlash(ZO(this._basePath,wb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=oi}static{this.joinWithSlash=Sb}static{this.stripTrailingSlash=Ib}static{this.\u0275fac=function(r){return new(r||t)(se(Rl))}}static{this.\u0275prov=G({token:t,factory:()=>YO(),providedIn:"root"})}}return t})();function YO(){return new ca(se(Rl))}function ZO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wb(t){return t.replace(/\/index.html$/,"")}function JO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Rb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var gg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mb=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Eb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Eb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ce(ws),Ce(Il),Ce(pg))}}static{this.\u0275dir=ct({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Eb(t,e){t.context.$implicit=e.item}var Ml=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new mg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Db("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Db("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ce(ws),Ce(Il))}}static{this.\u0275dir=ct({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),mg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Db(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}var yg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Jr({type:t})}static{this.\u0275inj=Zr({})}}return t})(),Nb="browser",XO="server";function vg(t){return t===XO}var Al=class{};var wg=class extends Sl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Eg=class t extends wg{static makeCurrent(){Cb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tk();return n==null?null:nk(n)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rb(document.cookie,e)}},ua=null;function tk(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}function nk(t){return new URL(t,document.baseURI).pathname}var rk=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Dg=new H(""),kb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(se(Dg),se(we))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Nl=class{constructor(e){this._doc=e}},_g="ng-app-id",Fb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vg(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${_g}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(_g),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(_g,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(se(zt),se(qp),se(Gp,8),se(_r))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Ig={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cg=/%COMP%/g,Lb="%COMP%",ik=`_nghost-${Lb}`,sk=`_ngcontent-${Lb}`,ok=!0,ak=new H("",{providedIn:"root",factory:()=>ok});function ck(t){return sk.replace(Cg,t)}function uk(t){return ik.replace(Cg,t)}function Vb(t,e){return e.map(n=>n.replace(Cg,t))}var xb=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=vg(a),this.defaultRenderer=new la(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===un.ShadowDom&&(r=ae(F({},r),{encapsulation:un.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof xl?i.applyToHost(n):i instanceof da&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case un.Emulated:s=new xl(u,l,r,this.appId,h,o,a,p);break;case un.ShadowDom:return new bg(u,l,n,r,o,a,this.nonce,p);default:s=new da(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(se(kb),se(Fb),se(qp),se(ak),se(zt),se(_r),se(we),se(Gp))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),la=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ig[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Pb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Pb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Ig[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ig[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(n,r,i&kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Bn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Pb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bg=class extends la{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Vb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},da=class extends la{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Vb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xl=class extends da{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=ck(l),this.hostAttr=uk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lk=(()=>{class t extends Nl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(se(zt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Ob=["alt","control","meta","shift"],dk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fk=(()=>{class t extends Nl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ob.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=dk[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ob.forEach(o=>{if(o!==i){let a=hk[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(se(zt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function Ub(t,e){return _b(F({rootComponent:t},pk(e)))}function pk(t){return{appProviders:[..._k,...t?.providers??[]],platformProviders:vk}}function gk(){Eg.makeCurrent()}function mk(){return new On}function yk(){return bD(document),document}var vk=[{provide:_r,useValue:Nb},{provide:zp,useValue:gk,multi:!0},{provide:zt,useFactory:yk,deps:[]}];var _k=[{provide:rl,useValue:"root"},{provide:On,useFactory:mk,deps:[]},{provide:Dg,useClass:lk,multi:!0,deps:[zt,we,_r]},{provide:Dg,useClass:fk,multi:!0,deps:[zt]},xb,Fb,kb,{provide:ps,useExisting:xb},{provide:Al,useClass:rk,deps:[]},[]];var jb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(se(zt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var te="primary",Aa=Symbol("RouteTitle"),Mg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rs(t){return new Mg(t)}function wk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ek(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}function mn(t,e){let n=t?Ng(t):void 0,r=e?Ng(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Kb(t[i],e[i]))return!1;return!0}function Ng(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Qb(t){return t.length>0?t[t.length-1]:null}function wr(t){return Ef(t)?t:ri(t)?ke(Promise.resolve(t)):J(t)}var Dk={exact:Zb,subset:Jb},Yb={exact:bk,subset:Ck,ignored:()=>!0};function Bb(t,e,n){return Dk[n.paths](t.root,e.root,n.matrixParams)&&Yb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bk(t,e){return mn(t,e)}function Zb(t,e,n){if(!ci(t.segments,e.segments)||!kl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Zb(t.children[r],e.children[r],n))return!1;return!0}function Ck(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kb(t[n],e[n]))}function Jb(t,e,n){return Xb(t,e,e.segments,n)}function Xb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ci(i,n)||e.hasChildren()||!kl(i,n,r))}else if(t.segments.length===n.length){if(!ci(t.segments,n)||!kl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Jb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ci(t.segments,i)||!kl(t.segments,i,r)||!t.children[te]?!1:Xb(t.children[te],e,s,r)}}function kl(t,e,n){return e.every((r,i)=>Yb[n](t[i].parameters,r.parameters))}var Hn=class{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return Ak.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fl(this)}},ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return tC(this)}};function Tk(t,e){return ci(t,e)&&t.every((n,r)=>mn(n.parameters,e[r].parameters))}function ci(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Sk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var rm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>new va,providedIn:"root"})}}return t})(),va=class{parse(e){let n=new Pg(e);return new Hn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ha(e.root,!0)}`,r=Nk(e.queryParams),i=typeof e.fragment=="string"?`#${Rk(e.fragment)}`:"";return`${n}${r}${i}`}},Ak=new va;function Fl(t){return t.segments.map(e=>tC(e)).join("/")}function ha(t,e){if(!t.hasChildren())return Fl(t);if(e){let n=t.children[te]?ha(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${ha(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Sk(t,(r,i)=>i===te?[ha(t.children[te],!1)]:[`${i}:${ha(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Fl(t)}/${n[0]}`:`${Fl(t)}/(${n.join("//")})`}}function eC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pl(t){return eC(t).replace(/%3B/gi,";")}function Rk(t){return encodeURI(t)}function xg(t){return eC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(t){return decodeURIComponent(t)}function $b(t){return Ll(t.replace(/\+/g,"%20"))}function tC(t){return`${xg(t.path)}${Mk(t.parameters)}`}function Mk(t){return Object.entries(t).map(([e,n])=>`;${xg(e)}=${xg(n)}`).join("")}function Nk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pl(n)}=${Pl(i)}`).join("&"):`${Pl(n)}=${Pl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var xk=/^[^\/()?;#]+/;function Tg(t){let e=t.match(xk);return e?e[0]:""}var Pk=/^[^\/()?;=#]+/;function Ok(t){let e=t.match(Pk);return e?e[0]:""}var kk=/^[^=?&#]+/;function Fk(t){let e=t.match(kk);return e?e[0]:""}var Lk=/^[^&#]+/;function Vk(t){let e=t.match(Lk);return e?e[0]:""}var Pg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ve(e,n)),r}parseSegment(){let e=Tg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new ai(Ll(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Ok(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tg(this.remaining);i&&(r=i,this.capture(r))}e[Ll(n)]=Ll(r)}parseQueryParam(e){let n=Fk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Vk(this.remaining);o&&(r=o,this.capture(r))}let i=$b(n),s=$b(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[te]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function nC(t){return t.segments.length>0?new ve([],{[te]:t}):t}function rC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=rC(i);if(r===te&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ve(t.segments,e);return Uk(n)}function Uk(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new ve(t.segments.concat(e.segments),e.children)}return t}function _a(t){return t instanceof Hn}function jk(t,e,n=null,r=null){let i=iC(t);return sC(i,e,n,r)}function iC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ve(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=nC(r);return e??i}function sC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Sg(i,i,i,n,r);let s=Bk(e);if(s.toRoot())return Sg(i,i,new ve([],{}),n,r);let o=$k(s,i,t),a=o.processChildren?ga(o.segmentGroup,o.index,s.commands):aC(o.segmentGroup,o.index,s.commands);return Sg(i,o.segmentGroup,a,n,r)}function Vl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ia(t){return typeof t=="object"&&t!=null&&t.outlets}function Sg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=oC(t,e,n);let a=nC(rC(o));return new Hn(a,s,i)}function oC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=oC(s,e,n)}),new ve(t.segments,r)}var Ul=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vl(r[0]))throw new $(4003,!1);let i=r.find(Ia);if(i&&i!==Qb(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Bk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ul(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ul(n,e,r)}var Ts=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function $k(t,e,n){if(t.isAbsolute)return new Ts(e,!0,0);if(!n)return new Ts(e,!1,NaN);if(n.parent===null)return new Ts(n,!0,0);let r=Vl(t.commands[0])?0:1,i=n.segments.length-1+r;return Hk(n,i,t.numberOfDoubleDots)}function Hk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ts(r,!1,i-s)}function qk(t){return Ia(t[0])?t[0].outlets:{[te]:t}}function aC(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return ga(t,e,n);let r=zk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ve(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new ve(t.segments.slice(r.pathIndex),t.children),ga(s,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?Og(t,e,n):r.match?ga(t,0,i):Og(t,e,n)}function ga(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=qk(n),i={};if(Object.keys(r).some(s=>s!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let s=ga(t.children[te],e,n);return new ve(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=aC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ve(t.segments,i)}}function zk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ia(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!qb(u,l,o))return s;r+=2}else{if(!qb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Og(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ia(s)){let u=Gk(s.outlets);return new ve(r,u)}if(i===0&&Vl(n[0])){let u=t.segments[e];r.push(new ai(u.path,Hb(n[0]))),i++;continue}let o=Ia(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vl(a)?(r.push(new ai(o,Hb(a))),i+=2):(r.push(new ai(o,{})),i++)}return new ve(r,{})}function Gk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Og(new ve([],{}),0,r))}),e}function Hb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qb(t,e,n){return t==n.path&&mn(e,n.parameters)}var ma="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),Gt=class{constructor(e,n){this.id=e,this.url=n}},wa=class extends Gt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ui=class extends Gt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ot||{}),kg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kg||{}),$n=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},li=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationSkipped}},Ea=class extends Gt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jl=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends Gt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vg=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$g=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},Ms=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Wk(t,e){return t.providers&&!t._injector&&(t._injector=ag(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tn(t){return t.outlet||te}function Kk(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function Ra(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Gg=class{get injector(){return Ra(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wl(this.rootInjector),this.attachRef=null}},Wl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Gg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(se(Ht))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Wg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Wg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Kg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kg(e,this._root).map(n=>n.value)}};function Wg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Wg(t,n);if(r)return r}return null}function Kg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Kg(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Cs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var $l=class extends Bl{constructor(e,n){super(e),this.snapshot=n,im(this,e)}toString(){return this.snapshot.toString()}};function cC(t){let e=Qk(t),n=new Je([new ai("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new Ns(n,r,s,o,i,te,t,e.root);return a.snapshot=e.root,new $l(new Pt(a,[]),e)}function Qk(t){let e={},n={},r={},i="",s=new Ss([],e,r,i,n,te,t,null,{});return new ql("",new Pt(s,[]))}var Ns=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[Aa]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&lC(i)&&(r.resolve[Aa]=i.title),r}var Ss=class{get title(){return this.data?.[Aa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ql=class extends Bl{constructor(e,n){super(n),this.url=e,im(this,n)}toString(){return uC(this._root)}};function im(t,e){e.value._routerState=t,e.children.forEach(n=>im(t,n))}function uC(t){let e=t.children.length>0?` { ${t.children.map(uC).join(", ")} } `:"";return`${t.value}${e}`}function Ag(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mn(e.params,n.params)||t.paramsSubject.next(n.params),Ek(e.url,n.url)||t.urlSubject.next(n.url),mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qg(t,e){let n=mn(t.params,e.params)&&Tk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Qg(t.parent,e.parent))}function lC(t){return typeof t.title=="string"||t.title===null}var sm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=k(Wl),this.location=k(ws),this.changeDetector=k(si),this.inputBinder=k(om,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Yg(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ct({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]})}}return t})(),Yg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ns?this.route:e===Wl?this.childContexts:this.parent.get(e,n)}},om=new H("");function Yk(t,e,n){let r=ba(t,e._root,n?n._root:void 0);return new $l(r,e)}function ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Zk(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ba(t,a)),o}}let r=Jk(e.value),i=e.children.map(s=>ba(t,s));return new Pt(r,i)}}function Zk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ba(t,r,i);return ba(t,r)})}function Jk(t){return new Ns(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Ca=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},dC="ngNavigationCancelingError";function zl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hC(!1,Ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function hC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[dC]=!0,n.cancellationCode=e,n}function Xk(t){return fC(t)&&_a(t.url)}function fC(t){return!!t&&t[dC]}var e1=(t,e,n,r)=>ne(i=>(new Zg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Zg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ag(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Cs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Cs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Cs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Cs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Ag(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ag(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Gl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},As=class{constructor(e,n){this.component=e,this.route=n}};function t1(t,e,n){let r=t._root,i=e?e._root:null;return fa(r,i,n,[r.value])}function n1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ps(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!hE(t)?t:e.get(t):r}function fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Cs(e);return t.children.forEach(o=>{r1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ya(a,n.getContext(o),i)),i}function r1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=i1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fa(t,e,a?a.children:null,r,i):fa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new As(a.outlet.component,o))}else o&&ya(e,a,i),i.canActivateChecks.push(new Gl(r)),s.component?fa(t,null,a?a.children:null,r,i):fa(t,null,n,r,i);return i}function i1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ci(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ci(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qg(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!Qg(t,e)}}function ya(t,e,n){let r=Cs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ya(o,e.children.getContext(s),n):ya(o,null,n):ya(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new As(e.outlet.component,i)):n.canDeactivateChecks.push(new As(null,i)):n.canDeactivateChecks.push(new As(null,i))}function Ma(t){return typeof t=="function"}function s1(t){return typeof t=="boolean"}function o1(t){return t&&Ma(t.canLoad)}function a1(t){return t&&Ma(t.canActivate)}function c1(t){return t&&Ma(t.canActivateChild)}function u1(t){return t&&Ma(t.canDeactivate)}function l1(t){return t&&Ma(t.canMatch)}function pC(t){return t instanceof xn||t?.name==="EmptyError"}var Ol=Symbol("INITIAL_VALUE");function xs(){return Yt(t=>yu(t.map(e=>e.pipe(Pn(1),wu(Ol)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Ol)return Ol;if(n===!1||d1(n))return n}return!0}),Vt(e=>e!==Ol),Pn(1)))}function d1(t){return _a(t)||t instanceof Ca}function h1(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?J(ae(F({},n),{guardsResult:!0})):f1(o,r,i,t).pipe(ze(a=>a&&s1(a)?p1(r,s,t,e):J(a)),ne(a=>ae(F({},n),{guardsResult:a})))})}function f1(t,e,n,r){return ke(t).pipe(ze(i=>_1(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function p1(t,e,n,r){return ke(e).pipe(Yi(i=>Qi(m1(i.route.parent,r),g1(i.route,r),v1(t,i.path,n),y1(t,i.route,n))),on(i=>i!==!0,!0))}function g1(t,e){return t!==null&&e&&e(new qg(t)),J(!0)}function m1(t,e){return t!==null&&e&&e(new $g(t)),J(!0)}function y1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>vu(()=>{let o=Ra(e)??n,a=Ps(s,o),u=a1(a)?a.canActivate(e,t):Ln(o,()=>a(e,t));return wr(u).pipe(on())}));return J(i).pipe(xs())}function v1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>n1(o)).filter(o=>o!==null).map(o=>vu(()=>{let a=o.guards.map(u=>{let l=Ra(o.node)??n,h=Ps(u,l),p=c1(h)?h.canActivateChild(r,t):Ln(l,()=>h(r,t));return wr(p).pipe(on())});return J(a).pipe(xs())}));return J(s).pipe(xs())}function _1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let u=Ra(e)??i,l=Ps(a,u),h=u1(l)?l.canDeactivate(t,e,n,r):Ln(u,()=>l(t,e,n,r));return wr(h).pipe(on())});return J(o).pipe(xs())}function I1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(o=>{let a=Ps(o,t),u=o1(a)?a.canLoad(e,n):Ln(t,()=>a(e,n));return wr(u)});return J(s).pipe(xs(),gC(r))}function gC(t){return Jc(Fe(e=>{if(typeof e!="boolean")throw zl(t,e)}),ne(e=>e===!0))}function w1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(o=>{let a=Ps(o,t),u=l1(a)?a.canMatch(e,n):Ln(t,()=>a(e,n));return wr(u)});return J(s).pipe(xs(),gC(r))}var Ta=class{constructor(e){this.segmentGroup=e||null}},Sa=class extends Error{constructor(e){super(),this.urlTree=e}};function bs(t){return Ki(new Ta(t))}function E1(t){return Ki(new $(4e3,!1))}function D1(t){return Ki(hC(!1,Ot.GuardRejected))}var Jg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[te])return E1(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:C,title:M}=i,R=Ln(s,()=>a({params:v,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Hn)throw new Sa(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Sa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Hn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ve(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b1(t,e,n,r,i){let s=mC(t,e,n);return s.matched?(r=Wk(e,r),w1(r,e,n,i).pipe(ne(o=>o===!0?s:F({},Xg)))):J(s)}function mC(t,e,n){if(e.path==="**")return C1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Xg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wk)(n,t,e);if(!i)return F({},Xg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function C1(t){return{matched:!0,parameters:t.length>0?Qb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zb(t,e,n,r){return n.length>0&&A1(t,n,r)?{segmentGroup:new ve(e,S1(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&R1(t,n,r)?{segmentGroup:new ve(t.segments,T1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function T1(t,e,n,r){let i={};for(let s of n)if(Kl(t,e,s)&&!r[tn(s)]){let o=new ve([],{});i[tn(s)]=o}return F(F({},r),i)}function S1(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&tn(r)!==te){let i=new ve([],{});n[tn(r)]=i}return n}function A1(t,e,n){return n.some(r=>Kl(t,e,r)&&tn(r)!==te)}function R1(t,e,n){return n.some(r=>Kl(t,e,r))}function Kl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function M1(t,e,n){return e.length===0&&!t.children[n]}var em=class{};function N1(t,e,n,r,i,s,o="emptyOnly"){return new tm(t,e,n,r,i,o,s).recognize()}var x1=31,tm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Jg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=zb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Pt(r,n),s=new ql("",i),o=jk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ss([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,n).pipe(ne(r=>({children:r,rootSnapshot:n})),ar(r=>{if(r instanceof Sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ta?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof Pt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return ke(s).pipe(Yi(o=>{let a=r.children[o],u=Kk(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Iu((o,a)=>(o.push(...a),o)),cr(null),Tf(),ze(o=>{if(o===null)return bs(r);let a=yC(o);return P1(a),J(a)}))}processSegment(e,n,r,i,s,o,a){return ke(n).pipe(Yi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(ar(l=>{if(l instanceof Ta)return J(null);throw l}))),on(u=>!!u),ar(u=>{if(pC(u))return M1(r,i,s)?J(new em):bs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return tn(r)!==o&&(o===te||!Kl(i,s,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=mC(n,i,s);if(!u)return bs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>x1&&(this.allowRedirects=!1));let v=new Ss(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Gb(i),tn(i),i.component??i._loadedComponent??null,i,Wb(i)),C=Hl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(ze(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=b1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Yt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,C=new Ss(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Gb(r),tn(r),r.component??r._loadedComponent??null,r,Wb(r)),M=Hl(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:O}=zb(n,m,v,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(ne(V=>new Pt(C,V)));if(l.length===0&&O.length===0)return J(new Pt(C,[]));let j=tn(r)===s;return this.processSegment(h,l,R,O,j?te:s,!0,C).pipe(ne(V=>new Pt(C,V instanceof Pt?[V]:[])))}))):bs(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):I1(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):D1(n))):J({routes:[],injector:e})}};function P1(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function O1(t){let e=t.value.routeConfig;return e&&e.path===""}function yC(t){let e=[],n=new Set;for(let r of t){if(!O1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=yC(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function Gb(t){return t.data||{}}function Wb(t){return t.resolve||{}}function k1(t,e,n,r,i,s){return ze(o=>N1(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:u})=>ae(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function F1(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of vC(u))o.add(l);let a=0;return ke(o).pipe(Yi(u=>s.has(u)?L1(u,r,t,e):(u.data=Hl(u,u.parent,t).resolve,J(void 0))),Fe(()=>a++),Zi(1),ze(u=>a===o.size?J(n):Mt))})}function vC(t){let e=t.children.map(n=>vC(n)).flat();return[t,...e]}function L1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!lC(i)&&(s[Aa]=i.title),V1(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=Hl(t,t.parent,n).resolve,null)))}function V1(t,e,n,r){let i=Ng(t);if(i.length===0)return J({});let s={};return ke(i).pipe(ze(o=>U1(t[o],e,n,r).pipe(on(),Fe(a=>{if(a instanceof Ca)throw zl(new va,a);s[o]=a}))),Zi(1),Cf(s),ar(o=>pC(o)?Mt:Ki(o)))}function U1(t,e,n,r){let i=Ra(e)??r,s=Ps(t,i),o=s.resolve?s.resolve(e,n):Ln(i,()=>s(e,n));return wr(o)}function Rg(t){return Yt(e=>{let n=t(e);return n?ke(n).pipe(ne(()=>e)):J(e)})}var _C=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[Aa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(j1),providedIn:"root"})}}return t})(),j1=(()=>{class t extends _C{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(se(jb))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),am=new H("",{providedIn:"root",factory:()=>({})}),B1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=at({type:t,selectors:[["ng-component"]],standalone:!0,features:[lt],decls:1,vars:0,template:function(r,i){r&1&&Ke(0,"router-outlet")},dependencies:[sm],encapsulation:2})}}return t})();function cm(t){let e=t.children&&t.children.map(cm),n=e?ae(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=B1),n}var um=new H(""),$1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(hg)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=wr(n.loadComponent()).pipe(ne(IC),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Bo(()=>{this.componentLoaders.delete(n)})),i=new qi(r,()=>new Ze).pipe(Hi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=H1(r,this.compiler,n,this.onLoadEndListener).pipe(Bo(()=>{this.childrenLoaders.delete(r)})),o=new qi(s,()=>new Ze).pipe(Hi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function H1(t,e,n,r){return wr(t.loadChildren()).pipe(ne(IC),ze(i=>i instanceof Zo||Array.isArray(i)?J(i):ke(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(um,[],{optional:!0,self:!0}).flat()),{routes:o.map(cm),injector:s}}))}function q1(t){return t&&typeof t=="object"&&"default"in t}function IC(t){return q1(t)?t.default:t}var lm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(z1),providedIn:"root"})}}return t})(),z1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),G1=new H("");var W1=new H(""),K1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze,this.transitionAbortSubject=new Ze,this.configLoader=k($1),this.environmentInjector=k(Ht),this.urlSerializer=k(rm),this.rootContexts=k(Wl),this.location=k(ca),this.inputBindingEnabled=k(om,{optional:!0})!==null,this.titleStrategy=k(_C),this.options=k(am,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(lm),this.createViewTransition=k(G1,{optional:!0}),this.navigationErrorHandler=k(W1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let n=i=>this.events.next(new jg(i)),r=i=>this.events.next(new Bg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ma,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(s=>s.id!==0),ne(s=>ae(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Yt(s=>{let o=!1,a=!1;return J(s).pipe(Yt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ot.SupersededByNewNavigation),Mt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new li(u.id,this.urlSerializer.serialize(u.rawUrl),p,kg.IgnoredSameUrlNavigation)),u.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return J(u).pipe(Yt(p=>{let m=this.transitions?.getValue();return this.events.next(new wa(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Mt:Promise.resolve(p)}),k1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ae(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new jl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:C,extras:M}=u,R=new wa(p,this.urlSerializer.serialize(m),v,C);this.events.next(R);let O=cC(this.rootComponentType).snapshot;return this.currentTransition=s=ae(F({},u),{targetSnapshot:O,urlAfterRedirects:m,extras:ae(F({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,J(s)}else{let p="";return this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),p,kg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Mt}}),Fe(u=>{let l=new Fg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ne(u=>(this.currentTransition=s=ae(F({},u),{guards:t1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),h1(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw zl(this.urlSerializer,u.guardsResult);let l=new Lg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Vt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ot.GuardRejected),!1)),Rg(u=>{if(u.guards.canActivateChecks.length)return J(u).pipe(Fe(l=>{let h=new Vg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Yt(l=>{let h=!1;return J(l).pipe(F1(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Ot.NoDataFromResolver)}}))}),Fe(l=>{let h=new Ug(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Rg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Fe(m=>{h.component=m}),ne(()=>{})));for(let m of h.children)p.push(...l(m));return p};return yu(l(u.targetSnapshot.root)).pipe(cr(null),Pn(1))}),Rg(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?ke(h).pipe(ne(()=>s)):J(s)}),ne(u=>{let l=Yk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ae(F({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new Da)}),e1(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Pn(1),Fe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),$o(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),Bo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ar(u=>{if(a=!0,fC(u))this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Xk(u)?this.events.next(new Ms(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ea(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Ln(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ca){let{message:p,cancellationCode:m}=zl(this.urlSerializer,h);this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Ms(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Mt}))}))}cancelNavigationTransition(n,r,i){let s=new $n(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Q1(t){return t!==ma}var Y1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(Z1),providedIn:"root"})}}return t})(),nm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Z1=(()=>{class t extends nm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ys(t)))(i||t)}})()}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>k(J1),providedIn:"root"})}}return t})(),J1=(()=>{class t extends wC{constructor(){super(...arguments),this.location=k(ca),this.urlSerializer=k(rm),this.options=k(am,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(lm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof wa)this.stateMemento=this.createStateMemento();else if(n instanceof li)this.rawUrlTree=r.initialUrl;else if(n instanceof jl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Da?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof $n&&(n.code===Ot.GuardRejected||n.code===Ot.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ea?this.restoreHistory(r,!0):n instanceof ui&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Hn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ys(t)))(i||t)}})()}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pa||{});function X1(t,e){t.events.pipe(Vt(n=>n instanceof ui||n instanceof $n||n instanceof Ea||n instanceof li),ne(n=>n instanceof ui||n instanceof li?pa.COMPLETE:(n instanceof $n?n.code===Ot.Redirect||n.code===Ot.SupersededByNewNavigation:!1)?pa.REDIRECTING:pa.FAILED),Vt(n=>n!==pa.REDIRECTING),Pn(1)).subscribe(()=>{e()})}function eF(t){throw t}var tF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},EC=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Tl),this.stateManager=k(wC),this.options=k(am,{optional:!0})||{},this.pendingTasks=k(_s),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(K1),this.urlSerializer=k(rm),this.location=k(ca),this.urlHandlingStrategy=k(lm),this._events=new Ze,this.errorHandler=this.options.errorHandler||eF,this.navigated=!1,this.routeReuseStrategy=k(Y1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(um,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(om,{optional:!0}),this.eventsSubscription=new Oe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof $n&&r.code!==Ot.Redirect&&r.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ui)this.navigated=!0;else if(r instanceof Ms){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q1(i.source)},o);this.scheduleNavigation(a,ma,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}iF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=iC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return sC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=_a(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ma,null,r)}navigate(n,r={skipLocationChange:!1}){return rF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},tF):r===!1?i=F({},nF):i=r,_a(n))return Bb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return Bb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return X1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function iF(t){return!(t instanceof Da)&&!(t instanceof Ms)}var sF=new H("");function DC(t,...e){return pn([{provide:um,multi:!0,useValue:t},[],{provide:Ns,useFactory:oF,deps:[EC]},{provide:dg,multi:!0,useFactory:aF},e.map(n=>n.\u0275providers)])}function oF(t){return t.routerState.root}function aF(){let t=k(_t);return e=>{let n=t.get(ii);if(e!==n.components[0])return;let r=t.get(EC),i=t.get(cF);t.get(uF)===1&&r.initialNavigation(),t.get(lF,null,re.Optional)?.setUpPreloading(),t.get(sF,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cF=new H("",{factory:()=>new Ze}),uF=new H("",{providedIn:"root",factory:()=>1});var lF=new H("");var Ql=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-home"]],standalone:!0,features:[lt],decls:3,vars:0,consts:[[1,"hero"],["src","https://images.unsplash.com/photo-1731271140119-34ad9551ff10?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","alt","",1,"hero-image"]],template:function(n,r){n&1&&(W(0,"section",0),Ke(1,"img",1)(2,"img",1),X())},styles:[".hero[_ngcontent-%COMP%]{width:100%;height:100vh}.hero-image[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover;display:block}"]})};var xC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(Ce(Is),Ce(ti))}}static{this.\u0275dir=ct({type:t})}}return t})(),dF=(()=>{class t extends xC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ys(t)))(i||t)}})()}static{this.\u0275dir=ct({type:t,features:[jn]})}}return t})(),PC=new H("");var hF={provide:PC,useExisting:Yr(()=>rd),multi:!0};function fF(){let t=Bn()?Bn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pF=new H(""),rd=(()=>{class t extends xC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!fF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(Ce(Is),Ce(ti),Ce(pF,8))}}static{this.\u0275dir=ct({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ut("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[oa([hF]),jn]})}}return t})();function gF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var hm=new H(""),OC=new H("");function mF(t){return gF(t.value)?{required:!0}:null}function bC(t){return null}function kC(t){return t!=null}function FC(t){return ri(t)?ke(t):t}function LC(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function VC(t,e){return e.map(n=>n(t))}function yF(t){return!t.validate}function UC(t){return t.map(e=>yF(e)?e:n=>e.validate(n))}function vF(t){if(!t)return null;let e=t.filter(kC);return e.length==0?null:function(n){return LC(VC(n,e))}}function fm(t){return t!=null?vF(UC(t)):null}function _F(t){if(!t)return null;let e=t.filter(kC);return e.length==0?null:function(n){let r=VC(n,e).map(FC);return bf(r).pipe(ne(LC))}}function pm(t){return t!=null?_F(UC(t)):null}function CC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function IF(t){return t._rawValidators}function wF(t){return t._rawAsyncValidators}function dm(t){return t?Array.isArray(t)?t:[t]:[]}function Zl(t,e){return Array.isArray(t)?t.includes(e):t===e}function TC(t,e){let n=dm(e);return dm(t).forEach(i=>{Zl(n,i)||n.push(i)}),n}function SC(t,e){return dm(e).filter(n=>!Zl(t,n))}var Jl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ls=class extends Jl{get formDirective(){return null}get path(){return null}},Fa=class extends Jl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},EF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},h9=ae(F({},EF),{"[class.ng-submitted]":"isSubmitted"}),jC=(()=>{class t extends Xl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Ce(Fa,2))}}static{this.\u0275dir=ct({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ni("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[jn]})}}return t})(),BC=(()=>{class t extends Xl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Ce(Ls,10))}}static{this.\u0275dir=ct({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ni("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[jn]})}}return t})();var Na="VALID",Yl="INVALID",ks="PENDING",xa="DISABLED",Vs=class{},ed=class extends Vs{constructor(e,n){super(),this.value=e,this.source=n}},Oa=class extends Vs{constructor(e,n){super(),this.pristine=e,this.source=n}},ka=class extends Vs{constructor(e,n){super(),this.touched=e,this.source=n}},Fs=class extends Vs{constructor(e,n){super(),this.status=e,this.source=n}};function $C(t){return(id(t)?t.validators:t)||null}function DF(t){return Array.isArray(t)?fm(t):t||null}function HC(t,e){return(id(e)?e.asyncValidators:t)||null}function bF(t){return Array.isArray(t)?pm(t):t||null}function id(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function CF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function TF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var td=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ds(()=>this.statusReactive()),this.statusReactive=Es(void 0),this._pristine=Ds(()=>this.pristineReactive()),this.pristineReactive=Es(!0),this._touched=Ds(()=>this.touchedReactive()),this.touchedReactive=Es(!1),this._events=new Ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gn(this.statusReactive)}set status(e){gn(()=>this.statusReactive.set(e))}get valid(){return this.status===Na}get invalid(){return this.status===Yl}get pending(){return this.status==ks}get disabled(){return this.status===xa}get enabled(){return this.status!==xa}get pristine(){return gn(this.pristineReactive)}set pristine(e){gn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return gn(this.touchedReactive)}set touched(e){gn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SC(e,this._rawAsyncValidators))}hasValidator(e){return Zl(this._rawValidators,e)}hasAsyncValidator(e){return Zl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ka(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ka(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Oa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Oa(!0,r))}markAsPending(e={}){this.status=ks;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xa,this.errors=null,this._forEachChild(i=>{i.disable(ae(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ed(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Na,this._forEachChild(r=>{r.enable(ae(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Na||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ed(this.value,n)),this._events.next(new Fs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xa:Na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=FC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?xa:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Yl)?Yl:Na}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Oa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ka(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){id(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bF(this._rawAsyncValidators)}},nd=class extends td{constructor(e,n,r){super($C(n),HC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){TF(this,!0,e),Object.keys(e).forEach(r=>{CF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var gm=new H("CallSetDisabledState",{providedIn:"root",factory:()=>mm}),mm="always";function SF(t,e){return[...e.path,t]}function qC(t,e,n=mm){zC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),RF(t,e),NF(t,e),MF(t,e),AF(t,e)}function AC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function AF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function zC(t,e){let n=IF(t);e.validator!==null?t.setValidators(CC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=wF(t);e.asyncValidator!==null?t.setAsyncValidators(CC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();AC(e._rawValidators,i),AC(e._rawAsyncValidators,i)}function RF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&GC(t,e)})}function MF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&GC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function GC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function NF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function xF(t,e){t==null,zC(t,e)}function PF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function OF(t){return Object.getPrototypeOf(t.constructor)===dF}function kF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===rd?n=s:OF(s)?r=s:i=s}),i||r||n||null}var LF={provide:Ls,useExisting:Yr(()=>ym)},Pa=Promise.resolve(),ym=(()=>{class t extends Ls{get submitted(){return gn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ds(()=>this.submittedReactive()),this.submittedReactive=Es(!1),this._directives=new Set,this.ngSubmit=new je,this.form=new nd({},fm(n),pm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Pa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),qC(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Pa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Pa.then(()=>{let r=this._findContainer(n.path),i=new nd({});xF(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Pa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Pa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),kF(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(Ce(hm,10),Ce(OC,10),Ce(gm,8))}}static{this.\u0275dir=ct({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ut("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[oa([LF]),jn]})}}return t})();function RC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function MC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var VF=class extends td{constructor(e=null,n,r){super($C(n),HC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(n)&&(n.nonNullable||n.initialValueIsDefault)&&(MC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var UF={provide:Fa,useExisting:Yr(()=>vm)},NC=Promise.resolve(),vm=(()=>{class t extends Fa{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new VF,this._registered=!1,this.name="",this.update=new je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=FF(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),PF(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){NC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&aa(r);NC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?SF(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(Ce(Ls,9),Ce(hm,10),Ce(OC,10),Ce(PC,10),Ce(si,8),Ce(gm,8))}}static{this.\u0275dir=ct({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[oa([UF]),jn,Xr]})}}return t})(),WC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ct({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var jF=(()=>{class t{constructor(){this._validator=bC}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ct({type:t,features:[Xr]})}}return t})();var BF={provide:hm,useExisting:Yr(()=>_m),multi:!0};var _m=(()=>{class t extends jF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=aa,this.createValidator=n=>mF}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ys(t)))(i||t)}})()}static{this.\u0275dir=ct({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Dl("required",i._enabled?"":null)},inputs:{required:"required"},features:[oa([BF]),jn]})}}return t})();var $F=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Jr({type:t})}static{this.\u0275inj=Zr({})}}return t})();var KC=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:gm,useValue:n.callSetDisabledState??mm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Jr({type:t})}static{this.\u0275inj=Zr({imports:[$F]})}}return t})();var YC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new wm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},wm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zF=function(t){let e=YC(t);return ZC.encodeByteArray(e,!0)},La=function(t){return zF(t).replace(/\./g,"")},Dm=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var WF=()=>GF().__FIREBASE_DEFAULTS__,KF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Dm(t[1]);return e&&JSON.parse(e)},od=()=>{try{return WF()||KF()||QF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JC=t=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ad=t=>{let e=JC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bm=()=>{var t;return(t=od())===null||t===void 0?void 0:t.config},XC=t=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${t}`]};var sd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function cd(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(o)),""].join(".")}function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function YF(){var t;let e=(t=od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iT(){return!YF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cm(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var ZF="FirebaseError",Ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ct(i,a,r)}};function JF(t,e){return t.replace(XF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XF=/\{\$([^}]+)}/g;function Us(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(QC(s)&&QC(o)){if(!Us(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function QC(t){return t!==null&&typeof t=="object"}function Tm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oT(t,e){let n=new Em(t,e);return n.subscribe.bind(n)}var Em=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Im(){}var g9=4*60*60*1e3;function Ve(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var Sm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new sd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nL(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tL(t){return t===di?void 0:t}function nL(t){return t.instantiationMode==="EAGER"}var ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var rL=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),iL={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},sL=le.INFO,oL={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},aL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=oL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=sL,this._logHandler=aL,this._userLogHandler=null,rL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var cL=(t,e)=>e.some(n=>t instanceof n),aT,cT;function uL(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lL(){return cT||(cT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uT=new WeakMap,Rm=new WeakMap,lT=new WeakMap,Am=new WeakMap,Nm=new WeakMap;function dL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),Nm.set(e,t),e}function hL(t){if(Rm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rm.set(t,e)}var Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dT(t){Mm=t(Mm)}function fL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ld(this),e,...n);return lT.set(r,e.sort?e.sort():[e]),yn(r)}:lL().includes(t)?function(...e){return t.apply(ld(this),e),yn(uT.get(this))}:function(...e){return yn(t.apply(ld(this),e))}}function pL(t){return typeof t=="function"?fL(t):(t instanceof IDBTransaction&&hL(t),cL(t,uL())?new Proxy(t,Mm):t)}function yn(t){if(t instanceof IDBRequest)return dL(t);if(Am.has(t))return Am.get(t);let e=pL(t);return e!==t&&(Am.set(t,e),Nm.set(e,t)),e}var ld=t=>Nm.get(t);function fT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=yn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(yn(o.result),u.oldVersion,u.newVersion,yn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gL=["get","getKey","getAll","getAllKeys","count"],mL=["put","add","delete","clear"],xm=new Map;function hT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=mL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gL.includes(n)))return;let s=function(o,...a){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return xm.set(e,s),s}dT(t=>ae(F({},t),{get:(e,n,r)=>hT(e,n)||t.get(e,n,r),has:(e,n)=>!!hT(e,n)||t.has(e,n)}));var Om=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function yL(t){let e=t.getComponent();return e?.type==="VERSION"}var km="@firebase/app",pT="0.10.13";var zn=new Er("@firebase/app"),vL="@firebase/app-compat",_L="@firebase/analytics-compat",IL="@firebase/analytics",wL="@firebase/app-check-compat",EL="@firebase/app-check",DL="@firebase/auth",bL="@firebase/auth-compat",CL="@firebase/database",TL="@firebase/data-connect",SL="@firebase/database-compat",AL="@firebase/functions",RL="@firebase/functions-compat",ML="@firebase/installations",NL="@firebase/installations-compat",xL="@firebase/messaging",PL="@firebase/messaging-compat",OL="@firebase/performance",kL="@firebase/performance-compat",FL="@firebase/remote-config",LL="@firebase/remote-config-compat",VL="@firebase/storage",UL="@firebase/storage-compat",jL="@firebase/firestore",BL="@firebase/vertexai-preview",$L="@firebase/firestore-compat",HL="firebase",qL="10.14.1";var Fm="[DEFAULT]",zL={[km]:"fire-core",[vL]:"fire-core-compat",[IL]:"fire-analytics",[_L]:"fire-analytics-compat",[EL]:"fire-app-check",[wL]:"fire-app-check-compat",[DL]:"fire-auth",[bL]:"fire-auth-compat",[CL]:"fire-rtdb",[TL]:"fire-data-connect",[SL]:"fire-rtdb-compat",[AL]:"fire-fn",[RL]:"fire-fn-compat",[ML]:"fire-iid",[NL]:"fire-iid-compat",[xL]:"fire-fcm",[PL]:"fire-fcm-compat",[OL]:"fire-perf",[kL]:"fire-perf-compat",[FL]:"fire-rc",[LL]:"fire-rc-compat",[VL]:"fire-gcs",[UL]:"fire-gcs-compat",[jL]:"fire-fst",[$L]:"fire-fst-compat",[BL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};var Va=new Map,GL=new Map,Lm=new Map;function gT(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vn(t){let e=t.name;if(Lm.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(let n of Va.values())gT(n,t);for(let n of GL.values())gT(n,t);return!0}function ja(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function js(t){return t.settings!==void 0}var WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new qn("app","Firebase",WL);var Vm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var br=qL;function Bm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=bm()),!n)throw Dr.create("no-options");let s=Va.get(i);if(s){if(Us(n,s.options)&&Us(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}let o=new ud(i);for(let u of Lm.values())o.addComponent(u);let a=new Vm(n,r,o);return Va.set(i,a),a}function hi(t=Fm){let e=Va.get(t);if(!e&&t===Fm&&bm())return Bm();if(!e)throw Dr.create("no-app",{appName:t});return e}function dd(){return Array.from(Va.values())}function Me(t,e,n){var r;let i=(r=zL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(a.join(" "));return}vn(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KL="firebase-heartbeat-database",QL=1,Ua="firebase-heartbeat-store",Pm=null;function _T(){return Pm||(Pm=fT(KL,QL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Pm}function YL(t){return S(this,null,function*(){try{let n=(yield _T()).transaction(Ua),r=yield n.objectStore(Ua).get(IT(t));return yield n.done,r}catch(e){if(e instanceof Ct)zn.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});zn.warn(n.message)}}})}function mT(t,e){return S(this,null,function*(){try{let r=(yield _T()).transaction(Ua,"readwrite");yield r.objectStore(Ua).put(e,IT(t)),yield r.done}catch(n){if(n instanceof Ct)zn.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});zn.warn(r.message)}}})}function IT(t){return`${t.name}!${t.options.appId}`}var ZL=1024,JL=30*24*60*60*1e3,Um=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=JL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yT(),{heartbeatsToSend:r,unsentEntries:i}=XL(this._heartbeatsCache.heartbeats),s=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zn.warn(n),""}})}};function yT(){return new Date().toISOString().substring(0,10)}function XL(t,e=ZL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Cm()?sT().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield YL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vT(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function eV(t){vn(new Tt("platform-logger",e=>new Om(e),"PRIVATE")),vn(new Tt("heartbeat",e=>new Um(e),"PRIVATE")),Me(km,pT,t),Me(km,pT,"esm2017"),Me("fire-js","")}eV("");var tV="firebase",nV="10.14.1";Me(tV,nV,"app");var Cr=new Fn("ANGULARFIRE2_VERSION");function Ba(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var gi=(t,e)=>{let n=e?[e]:dd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},pi=class{constructor(){return gi(rV)}},rV="app-check";function Bs(){}var hd=class{zone;delegate;constructor(e,n=If){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},$m=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hd(Zone.current)),this.insideAngular=n.run(()=>new hd(Zone.current,_f)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(se(we))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function iV(t){return fd().ngZone.runOutsideAngular(()=>t())}function fi(t){return fd().ngZone.run(()=>t())}function sV(t){return oV(fd())(t)}function oV(t){return function(n){return n=n.lift(new $m(t.ngZone)),n.pipe(or(t.outsideAngular),sr(t.insideAngular))}}var aV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),fi(()=>t.apply(void 0,r))},We=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs))),r[s]=aV(r[s],n));let i=iV(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=fd();return i.pipe(or(s.outsideAngular),sr(s.insideAngular))}else return fi(()=>i);return i instanceof ie?i.pipe(sV):i instanceof Promise?fi(()=>new Promise((s,o)=>i.then(a=>fi(()=>s(a)),a=>fi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:fi(()=>i)};var Gn=class{constructor(e){return e}},yi=class{constructor(){return dd()}};function cV(t){return t&&t.length===1?t[0]:new Gn(hi())}var Hm=new H("angularfire2._apps"),uV={provide:Gn,useFactory:cV,deps:[[new ot,Hm]]},lV={provide:yi,deps:[[new ot,Hm]]};function dV(t){return(e,n)=>{let r=n.get(_r);Me("angularfire",Cr.full,"core"),Me("angularfire",Cr.full,"app"),Me("angular",db.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Gn(i)}}function wT(t,...e){return pn([uV,lV,{provide:Hm,useFactory:dV(t),multi:!0,deps:[we,_t,mi,...e]}])}var pd=We(Bm,!0);function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MT=RT,NT=new qn("auth","Firebase",RT());var vd=new Er("@firebase/auth");function fV(t,...e){vd.logLevel<=le.WARN&&vd.warn(`Auth (${br}): ${t}`,...e)}function md(t,...e){vd.logLevel<=le.ERROR&&vd.error(`Auth (${br}): ${t}`,...e)}function ET(t,...e){throw ty(t,...e)}function ey(t,...e){return ty(t,...e)}function xT(t,e,n){let r=Object.assign(Object.assign({},MT()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}function yd(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NT.create(t,...e)}function ye(t,e,...n){if(!t)throw ty(e,...n)}function $a(t){let e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function _d(t,e){t||$a(e)}function pV(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function gV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pV()||nT()||"connection"in navigator)?navigator.onLine:!0}function mV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_d(n>e,"Short delay should be less than long delay!"),this.isMobile=eT()||rT()}get(){return gV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yV(t,e){_d(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Id=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _V=new _i(3e4,6e4);function PT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bd(s,o,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return OT(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Tm(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return tT()||(v.referrerPolicy="no-referrer"),Id.fetch()(kT(t,t.config.apiHost,n,p),v)}))})}function OT(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},vV),e);try{let i=new Gm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw gd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xT(t,h,l);ET(t,h)}}catch(i){if(i instanceof Ct)throw i;ET(t,"network-request-failed",{message:String(i)})}})}function kT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?yV(t.config,i):`${t.config.apiScheme}://${i}`}var Gm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ey(this.auth,"network-request-failed")),_V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ey(t,e,r);return i.customData._tokenResponse=n,i}function IV(t,e){return S(this,null,function*(){return bd(t,"POST","/v1/accounts:delete",e)})}function FT(t,e){return S(this,null,function*(){return bd(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ny(t,e=!1){return S(this,null,function*(){let n=Ve(t),r=yield n.getIdToken(e),i=LT(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ha(qm(i.auth_time)),issuedAtTime:Ha(qm(i.iat)),expirationTime:Ha(qm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function qm(t){return Number(t)*1e3}function LT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{let i=Dm(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bT(t){let e=LT(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wm(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ct&&wV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function wV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Km=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var za=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wd(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Wm(t,FT(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VT(s.providerUserInfo):[],a=EV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new za(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ry(t){return S(this,null,function*(){let e=Ve(t);yield wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function EV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VT(t){return t.map(e=>{var{providerId:n}=e,r=wf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DV(t,e){return S(this,null,function*(){let n=yield OT(t,{},()=>S(this,null,function*(){let r=Tm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Id.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function bV(t,e){return S(this,null,function*(){return bd(t,"POST","/v2/accounts:revokeToken",PT(t,e))})}var qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=bT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield DV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return $a("not implemented")}};function Tr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ga=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Km(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new za(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Wm(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ny(this,e)}reload(){return ry(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(js(this.auth.app))return Promise.reject(yd(this.auth));let e=yield this.getIdToken();return yield Wm(this,IV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:B,isAnonymous:_e,providerData:z,stsTokenManager:w}=n;ye(V&&w,e,"internal-error");let y=qa.fromJSON(this.name,w);ye(typeof V=="string",e,"internal-error"),Tr(p,e.name),Tr(m,e.name),ye(typeof B=="boolean",e,"internal-error"),ye(typeof _e=="boolean",e,"internal-error"),Tr(v,e.name),Tr(C,e.name),Tr(M,e.name),Tr(R,e.name),Tr(O,e.name),Tr(j,e.name);let _=new t({uid:V,auth:e,email:m,emailVerified:B,displayName:p,isAnonymous:_e,photoURL:C,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:O,lastLoginAt:j});return z&&Array.isArray(z)&&(_.providerData=z.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new qa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?VT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new qa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var CT=new Map;function vi(t){_d(t instanceof Function,"Expected a class definition");let e=CT.get(t);return e?(_d(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CT.set(t,e),e)}var CV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Qm=CV;function zm(t,e,n){return`firebase:${t}:${e}:${n}`}var Ed=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=zm(this.userKey,i.apiKey,s),this.fullPersistenceKey=zm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ga._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(vi(Qm),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||vi(Qm),o=zm(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Ga._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function TT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NV(e))return"Blackberry";if(xV(e))return"Webos";if(SV(e))return"Safari";if((e.includes("chrome/")||AV(e))&&!e.includes("edge/"))return"Chrome";if(MV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function TV(t=kt()){return/firefox\//i.test(t)}function SV(t=kt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AV(t=kt()){return/crios\//i.test(t)}function RV(t=kt()){return/iemobile/i.test(t)}function MV(t=kt()){return/android/i.test(t)}function NV(t=kt()){return/blackberry/i.test(t)}function xV(t=kt()){return/webos/i.test(t)}function UT(t,e=[]){let n;switch(t){case"Browser":n=TT(kt());break;case"Worker":n=`${TT(kt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}var Ym=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PV(n){return S(this,arguments,function*(t,e={}){return bd(t,"GET","/v2/passwordPolicy",PT(t,e))})}var OV=6,Zm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Jm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dd(this),this.idTokenSubscription=new Dd(this),this.beforeStateQueue=new Ym(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ed.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield FT(this,{idToken:e}),r=yield Ga._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(js(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mV()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(js(this.app))return Promise.reject(yd(this));let n=e?Ve(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return js(this.app)?Promise.reject(yd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return js(this.app)?Promise.reject(yd(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield PV(this),n=new Zm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=yield Ed.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&fV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function kV(t){return Ve(t)}var Dd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oT(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var FV={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LV(t){FV=t}function VV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function UV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var h6=VV("rcb"),f6=new _i(3e4,6e4);var p6=new _i(2e3,1e4);var g6=10*60*1e3;var m6=new _i(3e4,6e4);var y6=new _i(5e3,15e3);var v6=encodeURIComponent("fac");var ST="@firebase/auth",AT="1.7.9";var Xm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BV(t){vn(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(t)},l=new Jm(r,i,s,u);return UV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vn(new Tt("auth-internal",e=>{let n=kV(e.getProvider("auth").getImmediate());return(r=>new Xm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(ST,AT,jV(t)),Me(ST,AT,"esm2017")}var $V=5*60,_6=XC("authIdTokenMaxAge")||$V;function HV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ey("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BV("Browser");var $U="auth";var $s=class{constructor(){return gi($U)}};var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BT={};var Sr,iy;(function(){var t;function e(w,y){function _(){}_.prototype=y.prototype,w.D=y.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(E,D,T){for(var I=Array(arguments.length-2),An=2;An<arguments.length;An++)I[An-2]=arguments[An];return y.prototype[D].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=w.g[0],_=w.g[1],D=w.g[2];var T=w.g[3],I=y+(T^_&(D^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(D^y&(_^D))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=D+(_^T&(y^_))+E[2]+606105819&4294967295,D=T+(I<<17&4294967295|I>>>15),I=_+(y^D&(T^y))+E[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(T^_&(D^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(D^y&(_^D))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=D+(_^T&(y^_))+E[6]+2821735955&4294967295,D=T+(I<<17&4294967295|I>>>15),I=_+(y^D&(T^y))+E[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(T^_&(D^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(D^y&(_^D))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=D+(_^T&(y^_))+E[10]+4294925233&4294967295,D=T+(I<<17&4294967295|I>>>15),I=_+(y^D&(T^y))+E[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(T^_&(D^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(D^y&(_^D))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=D+(_^T&(y^_))+E[14]+2792965006&4294967295,D=T+(I<<17&4294967295|I>>>15),I=_+(y^D&(T^y))+E[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(D^T&(_^D))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^D&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(T^y))+E[11]+643717713&4294967295,D=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(D^T))+E[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^T&(_^D))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^D&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(T^y))+E[15]+3634488961&4294967295,D=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(D^T))+E[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^T&(_^D))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^D&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(T^y))+E[3]+4107603335&4294967295,D=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(D^T))+E[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^T&(_^D))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^D&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(T^y))+E[7]+1735328473&4294967295,D=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(D^T))+E[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(_^D^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^D)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=D+(T^y^_)+E[11]+1839030562&4294967295,D=T+(I<<16&4294967295|I>>>16),I=_+(D^T^y)+E[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^D)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=D+(T^y^_)+E[7]+4139469664&4294967295,D=T+(I<<16&4294967295|I>>>16),I=_+(D^T^y)+E[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^D)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=D+(T^y^_)+E[3]+3572445317&4294967295,D=T+(I<<16&4294967295|I>>>16),I=_+(D^T^y)+E[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^D)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=D+(T^y^_)+E[15]+530742520&4294967295,D=T+(I<<16&4294967295|I>>>16),I=_+(D^T^y)+E[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(D^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~D))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=D+(y^(T|~_))+E[14]+2878612391&4294967295,D=T+(I<<15&4294967295|I>>>17),I=_+(T^(D|~y))+E[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~D))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=D+(y^(T|~_))+E[10]+4293915773&4294967295,D=T+(I<<15&4294967295|I>>>17),I=_+(T^(D|~y))+E[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~D))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=D+(y^(T|~_))+E[6]+2734768916&4294967295,D=T+(I<<15&4294967295|I>>>17),I=_+(T^(D|~y))+E[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~D))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=D+(y^(T|~_))+E[2]+718787259&4294967295,D=T+(I<<15&4294967295|I>>>17),I=_+(T^(D|~y))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var _=y-this.blockSize,E=this.B,D=this.h,T=0;T<y;){if(D==0)for(;T<=_;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<y;)if(E[D++]=w.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<y;)if(E[D++]=w[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var _=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=_&255,_/=256;for(this.u(w),w=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)w[_++]=this.g[y]>>>E&255;return w};function s(w,y){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=y(w)}function o(w,y){this.h=y;for(var _=[],E=!0,D=w.length-1;0<=D;D--){var T=w[D]|0;E&&T==y||(_[D]=T,E=!1)}this.g=_}var a={};function u(w){return-128<=w&&128>w?s(w,function(y){return new o([y|0],0>y?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var y=[],_=1,E=0;w>=_;E++)y[E]=w/_|0,_*=4294967296;return new o(y,0)}function h(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return R(h(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,D=0;D<w.length;D+=8){var T=Math.min(8,w.length-D),I=parseInt(w.substring(D,D+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var w=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);w+=(0<=E?E:4294967296+E)*y,y*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var y=l(Math.pow(w,6)),_=this,E="";;){var D=B(_,y).g;_=O(_,D.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=D,C(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=O(this,w),M(w)?-1:C(w)?0:1};function R(w){for(var y=w.g.length,_=[],E=0;E<y;E++)_[E]=~w.g[E];return new o(_,~w.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(w){for(var y=Math.max(this.g.length,w.g.length),_=[],E=0,D=0;D<=y;D++){var T=E+(this.i(D)&65535)+(w.i(D)&65535),I=(T>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);E=I>>>16,T&=65535,I&=65535,_[D]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function O(w,y){return w.add(R(y))}t.j=function(w){if(C(this)||C(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(v)&&0>w.l(v))return l(this.m()*w.m());for(var y=this.g.length+w.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<w.g.length;D++){var T=this.i(E)>>>16,I=this.i(E)&65535,An=w.i(D)>>>16,vo=w.i(D)&65535;_[2*E+2*D]+=I*vo,j(_,2*E+2*D),_[2*E+2*D+1]+=T*vo,j(_,2*E+2*D+1),_[2*E+2*D+1]+=I*An,j(_,2*E+2*D+1),_[2*E+2*D+2]+=T*An,j(_,2*E+2*D+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function j(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function V(w,y){this.g=w,this.h=y}function B(w,y){if(C(y))throw Error("division by zero");if(C(w))return new V(p,p);if(M(w))return y=B(R(w),y),new V(R(y.g),R(y.h));if(M(y))return y=B(w,R(y)),new V(R(y.g),y.h);if(30<w.g.length){if(M(w)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(w);)_=_e(_),E=_e(E);var D=z(_,1),T=z(E,1);for(E=z(E,2),_=z(_,2);!C(E);){var I=T.add(E);0>=I.l(w)&&(D=D.add(_),T=I),E=z(E,1),_=z(_,1)}return y=O(w,D.j(y)),new V(D,y)}for(D=p;0<=w.l(y);){for(_=Math.max(1,Math.floor(w.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);M(I)||0<I.l(w);)_-=E,T=l(_),I=T.j(y);C(T)&&(T=m),D=D.add(T),w=O(w,I)}return new V(D,w)}t.A=function(w){return B(this,w).h},t.and=function(w){for(var y=Math.max(this.g.length,w.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&w.i(E);return new o(_,this.h&w.h)},t.or=function(w){for(var y=Math.max(this.g.length,w.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|w.i(E);return new o(_,this.h|w.h)},t.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^w.i(E);return new o(_,this.h^w.h)};function _e(w){for(var y=w.g.length+1,_=[],E=0;E<y;E++)_[E]=w.i(E)<<1|w.i(E-1)>>>31;return new o(_,w.h)}function z(w,y){var _=y>>5;y%=32;for(var E=w.g.length-_,D=[],T=0;T<E;T++)D[T]=0<y?w.i(T+_)>>>y|w.i(T+_+1)<<32-y:w.i(T+_);return new o(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iy=BT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Sr=BT.Integer=o}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var sy,HU,Hs,oy,Wa,Td,ay,cy,uy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function j(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var _e=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function z(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Nh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class An{constructor(){this.h=this.g=null}add(d,f){let g=vo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var vo=new O(()=>new OA,c=>c.reset());class OA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let _o,Io=!1,Nh=new An,F_=()=>{let c=a.Promise.resolve(void 0);_o=()=>{c.then(kA)}};var kA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=vo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Io=!1};function er(){this.s=this.s,this.C=this.C}er.prototype.s=!1,er.prototype.ma=function(){this.s||(this.s=!0,this.N())},er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var FA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function wo(c,d){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_e){e:{try{B(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:LA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wo.aa.h.call(this)}}C(wo,nt);var LA={2:"touch",3:"pen",4:"mouse"};wo.prototype.h=function(){wo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Eo="closure_listenable_"+(1e6*Math.random()|0),VA=0;function UA(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++VA,this.da=this.fa=!1}function Cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tc(c){this.src=c,this.g={},this.h=0}Tc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Ph(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new UA(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function xh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ph(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var Oh="closure_lm_"+(1e6*Math.random()|0),kh={};function L_(c,d,f,g,b){if(g&&g.once)return U_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)L_(c,d[A],f,g,b);return null}return f=Uh(f),c&&c[Eo]?c.K(d,f,l(g)?!!g.capture:!!g,b):V_(c,d,f,!1,g,b)}function V_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,De=Lh(c);if(De||(c[Oh]=De=new Tc(c)),f=De.add(d,f,g,P,A),f.proxy)return f;if(g=jA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)FA||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(B_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jA(){function c(f){return d.call(c.src,c.listener,f)}let d=BA;return c}function U_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)U_(c,d[A],f,g,b);return null}return f=Uh(f),c&&c[Eo]?c.L(d,f,l(g)?!!g.capture:!!g,b):V_(c,d,f,!0,g,b)}function j_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)j_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Uh(f),c&&c[Eo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ph(A,f,g,b),-1<f&&(Cc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Lh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ph(d,f,g,b)),(f=-1<c?d[c]:null)&&Fh(f))}function Fh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Eo])xh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(B_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Lh(d))?(xh(f,c),f.h==0&&(f.src=null,d[Oh]=null)):Cc(c)}}}function B_(c){return c in kh?kh[c]:kh[c]="on"+c}function BA(c,d){if(c.da)c=!0;else{d=new wo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Fh(c),c=f.call(g,d)}return c}function Lh(c){return c=c[Oh],c instanceof Tc?c:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uh(c){return typeof c=="function"?c:(c[Vh]||(c[Vh]=function(d){return c.handleEvent(d)}),c[Vh])}function rt(){er.call(this),this.i=new Tc(this),this.M=this,this.F=null}C(rt,er),rt.prototype[Eo]=!0,rt.prototype.removeEventListener=function(c,d,f,g){j_(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new nt(d,c);else if(d instanceof nt)d.target=d.target||c;else{var b=d;d=new nt(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=Sc(P,g,!0,d)&&b}if(P=d.g=c,b=Sc(P,g,!0,d)&&b,b=Sc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=Sc(P,g,!1,d)&&b}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Cc(f[g]);delete c.g[d],c.h--}}this.F=null},rt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},rt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Sc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var De=P.listener,Ye=P.ha||P.src;P.fa&&xh(c.i,P),b=De.call(Ye,g)!==!1&&b}}return b&&!g.defaultPrevented}function $_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function H_(c){c.g=$_(()=>{c.g=null,c.i&&(c.i=!1,H_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class $A extends er{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:H_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Do(c){er.call(this),this.h=c,this.g={}}C(Do,er);var q_=[];function z_(c){z(c.g,function(d,f){this.g.hasOwnProperty(f)&&Fh(d)},c),c.g={}}Do.prototype.N=function(){Do.aa.N.call(this),z_(this)},Do.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jh=a.JSON.stringify,HA=a.JSON.parse,qA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bh(){}Bh.prototype.h=null;function G_(c){return c.h||(c.h=c.i())}function W_(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $h(){nt.call(this,"d")}C($h,nt);function Hh(){nt.call(this,"c")}C(Hh,nt);var Or={},K_=null;function Ac(){return K_=K_||new rt}Or.La="serverreachability";function Q_(c){nt.call(this,Or.La,c)}C(Q_,nt);function Co(c){let d=Ac();pt(d,new Q_(d))}Or.STAT_EVENT="statevent";function Y_(c,d){nt.call(this,Or.STAT_EVENT,c),this.stat=d}C(Y_,nt);function gt(c){let d=Ac();pt(d,new Y_(d,c))}Or.Ma="timingevent";function Z_(c,d){nt.call(this,Or.Ma,c),this.size=d}C(Z_,nt);function To(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function So(){this.g=!0}So.prototype.xa=function(){this.g=!1};function zA(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",De=A.split("&"),Ye=0;Ye<De.length;Ye++){var ge=De[Ye].split("=");if(1<ge.length){var it=ge[0];ge=ge[1];var st=it.split("_");P=2<=st.length&&st[1]=="type"?P+(it+"="+ge+"&"):P+(it+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function GA(c,d,f,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function Oi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+KA(c,f)+(g?" "+g:"")})}function WA(c,d){c.info(function(){return"TIMEOUT: "+d})}So.prototype.info=function(){};function KA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return jh(f)}catch{return d}}var Rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qh;function Mc(){}C(Mc,Bh),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},qh=new Mc;function tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Do(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}var eI={},zh={};function Gh(c,d,f){c.L=1,c.v=Oc(Rn(d)),c.m=f,c.P=!0,tI(c,null)}function tI(c,d){c.F=Date.now(),Nc(c),c.A=Rn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),gI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new X_,c.g=PI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new $A(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(q_[0]=b.toString()),b=q_);for(var A=0;A<b.length;A++){var P=L_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Co(),zA(c.i,c.u,c.A,c.l,c.R,c.m)}tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Mn(c)==3?d.j():this.Y(c)},tr.prototype.Y=function(c){try{if(c==this.g)e:{let st=Mn(this.g);var d=this.g.Ba();let Li=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||EI(this.g)))){this.J||st!=4||d==7||(d==8||0>=Li?Co(3):Co(2)),Wh(this);var f=this.g.Z();this.X=f;t:if(nI(this)){var g=EI(this.g);c="";var b=g.length,A=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Ao(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,GA(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ye=this.g;if((De=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(De)){var ge=De;break t}}ge=null}if(f=ge)Oi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,f);else{this.o=!1,this.s=3,gt(12),kr(this),Ao(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<P.length;)if(Kt=QA(this,P),Kt==zh){st==4&&(this.s=4,gt(14),f=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==eI){this.s=4,gt(15),Oi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Oi(this.i,this.l,Kt,null),Kh(this,Kt);if(nI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||P.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)Oi(this.i,this.l,P,"[Invalid Chunked Response]"),kr(this),Ao(this);else if(0<P.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ef(it),it.M=!0,gt(11))}}else Oi(this.i,this.l,P,null),Kh(this,P);st==4&&kr(this),this.o&&!this.J&&(st==4?RI(this.j,this):(this.o=!1,Nc(this)))}else hR(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),kr(this),Ao(this)}}}catch{}finally{}};function nI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function QA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?zh:(f=Number(d.substring(f,g)),isNaN(f)?eI:(g+=1,g+f>d.length?zh:(d=d.slice(g,g+f),c.C=g+f,d)))}tr.prototype.cancel=function(){this.J=!0,kr(this)};function Nc(c){c.S=Date.now()+c.I,rI(c,c.I)}function rI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=To(m(c.ba,c),d)}function Wh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(WA(this.i,this.A),this.L!=2&&(Co(),gt(17)),kr(this),this.s=2,Ao(this)):rI(this,this.S-c)};function Ao(c){c.j.G==0||c.J||RI(c.j,c)}function kr(c){Wh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,z_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Kh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Qh(f.h,c))){if(!c.K&&Qh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Uc(f),Lc(f);else break e;Xh(f),gt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=To(m(f.Za,f),6e3));if(1>=oI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Lr(f,11)}else if((c.K||f.g==c)&&Uc(f),!j(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let it=ge[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));let st=ge[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let Li=ge[5];Li!=null&&typeof Li=="number"&&0<Li&&(g=1.5*Li,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=c.g;if(Kt){let Bc=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var A=g.h;A.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Yh(A,A.h),A.h=null))}if(g.D){let tf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;tf&&(g.ya=tf,Te(g.I,g.D,tf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=xI(g,g.J?g.ia:null,g.W),P.K){aI(g.h,P);var De=P,Ye=g.L;Ye&&(De.I=Ye),De.B&&(Wh(De),Nc(De)),g.g=P}else SI(g);0<f.i.length&&Vc(f)}else ge[0]!="stop"&&ge[0]!="close"||Lr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Lr(f,7):Jh(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Co(4)}catch{}}var YA=class{constructor(c,d){this.g=c,this.map=d}};function iI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oI(c){return c.h?1:c.g?c.g.size:0}function Qh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Yh(c,d){c.g?c.g.add(d):c.h=d}function aI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iI.prototype.cancel=function(){if(this.i=cI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function ZA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function JA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function uI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=JA(c),g=ZA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var lI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fr){this.h=c.h,xc(this,c.j),this.o=c.o,this.g=c.g,Pc(this,c.s),this.l=c.l;var d=c.i,f=new No;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),dI(this,f),this.m=c.m}else c&&(d=String(c).match(lI))?(this.h=!1,xc(this,d[1]||"",!0),this.o=Ro(d[2]||""),this.g=Ro(d[3]||"",!0),Pc(this,d[4]),this.l=Ro(d[5]||"",!0),dI(this,d[6]||"",!0),this.m=Ro(d[7]||"")):(this.h=!1,this.i=new No(null,this.h))}Fr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Mo(d,hI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Mo(d,hI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Mo(f,f.charAt(0)=="/"?nR:tR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Mo(f,iR)),c.join("")};function Rn(c){return new Fr(c)}function xc(c,d,f){c.j=f?Ro(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Pc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dI(c,d,f){d instanceof No?(c.i=d,sR(c.i,c.h)):(f||(d=Mo(d,rR)),c.i=new No(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function Oc(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ro(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,eR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hI=/[#\/\?@]/g,tR=/[#\?:]/g,nR=/[#\?]/g,rR=/[#\?@]/g,iR=/#/g;function No(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&XA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=No.prototype,t.add=function(c,d){nr(this),this.i=null,c=ki(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fI(c,d){nr(c),d=ki(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pI(c,d){return nr(c),d=ki(c,d),c.g.has(d)}t.forEach=function(c,d){nr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){nr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){nr(this);let d=[];if(typeof c=="string")pI(this,c)&&(d=d.concat(this.g.get(ki(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return nr(this),this.i=null,c=ki(this,c),pI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gI(c,d,f){fI(c,d),0<f.length&&(c.i=null,c.g.set(ki(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function ki(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function sR(c,d){d&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(fI(this,g),gI(this,b,f))},c)),c.j=d}function oR(c,d){let f=new So;if(a.Image){let g=new Image;g.onload=v(rr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(rr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(rr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(rr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function aR(c,d){let f=new So,g=new AbortController,b=setTimeout(()=>{g.abort(),rr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?rr(f,"TestPingServer: ok",!0,d):rr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),rr(f,"TestPingServer: error",!1,d)})}function rr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function cR(){this.g=new qA}function uR(c,d,f){let g=f||"";try{uI(c,function(b,A){let P=b;l(b)&&(P=jh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function xo(c){this.l=c.Ub||null,this.j=c.eb||!1}C(xo,Bh),xo.prototype.g=function(){return new kc(this.l,this.j)},xo.prototype.i=function(c){return function(){return c}}({});function kc(c,d){rt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(kc,rt),t=kc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Oo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Po(this):Oo(this),this.readyState==3&&mI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Po(this))},t.Qa=function(c){this.g&&(this.response=c,Po(this))},t.ga=function(){this.g&&Po(this)};function Po(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Oo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Oo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yI(c){let d="";return z(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Zh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=yI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Pe(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Pe,rt);var lR=/^https?$/i,dR=["POST","PUT"];t=Pe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qh.g(),this.v=this.o?G_(this.o):G_(qh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){vI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){vI(this,A)}};function vI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_I(c),Fc(c)}function _I(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?II(this):this.bb())},t.bb=function(){II(this)};function II(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)$_(c.Ea,0,c);else if(pt(c,"readystatechange"),Mn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(lI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!lR.test(b?b.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var A=2<Mn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",_I(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){wI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function wI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),HA(d)}};function EI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hR(c){let d={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(j(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function DI(c){this.Aa=0,this.i=[],this.j=new So,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,c),this.cb=ko("retryDelaySeedMs",1e4,c),this.Wa=ko("forwardChannelMaxRetries",2,c),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iI(c&&c.concurrentRequestLimit),this.Da=new cR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=xI(this,null,this.W),Vc(this)};function Jh(c){if(bI(c),c.G==3){var d=c.U++,f=Rn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Fo(c,f),d=new tr(c,c.j,d),d.L=2,d.v=Oc(Rn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=PI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nc(d)}NI(c)}function Lc(c){c.g&&(ef(c),c.g.cancel(),c.g=null)}function bI(c){Lc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Vc(c){if(!sI(c.h)&&!c.s){c.s=!0;var d=c.Ga;_o||F_(),Io||(_o(),Io=!0),Nh.add(d,c),c.B=0}}function fR(c,d){return oI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=To(m(c.Ga,c,d),MI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=TI(this,b,d),f=Rn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Fo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(yI(A)))+"&"+d:this.m&&Zh(f,this.m,A)),Yh(this.h,b),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),b.T=!0,Gh(b,f,null)):Gh(b,f,d),this.G=2}}else this.G==3&&(c?CI(this,c):this.i.length==0||sI(this.h)||CI(this))};function CI(c,d){var f;d?f=d.l:f=c.U++;let g=Rn(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),Fo(c,g),c.m&&c.o&&Zh(g,c.m,c.o),f=new tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=TI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yh(c.h,f),Gh(f,g,d)}function Fo(c,d){c.H&&z(c.H,function(f,g){Te(d,g,f)}),c.l&&uI({},function(f,g){Te(d,g,f)})}function TI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let De=!0;for(let Ye=0;Ye<f;Ye++){let ge=b[Ye].g,it=b[Ye].map;if(ge-=A,0>ge)A=Math.max(0,b[Ye].g-100),De=!1;else try{uR(it,P,"req"+ge+"_")}catch{g&&g(it)}}if(De){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function SI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;_o||F_(),Io||(_o(),Io=!0),Nh.add(d,c),c.v=0}}function Xh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=To(m(c.Fa,c),MI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,AI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=To(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Lc(this),AI(this))};function ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function AI(c){c.g=new tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Rn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Fo(c,d),c.m&&c.o&&Zh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Oc(Rn(d)),f.m=null,f.P=!0,tI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),Xh(this),gt(19))};function Uc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function RI(c,d){var f=null;if(c.g==d){Uc(c),ef(c),c.g=null;var g=2}else if(Qh(c.h,d))f=d.D,aI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Ac(),pt(g,new Z_(g,f)),Vc(c)}else SI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&fR(c,d)||g==2&&Xh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function MI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Lr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Fr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xc(g,"https"),Oc(g),b?oR(g.toString(),f):aR(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),NI(c),bI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function NI(c){if(c.G=0,c.ka=[],c.l){let d=cI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function xI(c,d,f){var g=f instanceof Fr?Rn(f):new Fr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Pc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Fr(null);g&&xc(A,g),d&&(A.g=d),b&&Pc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),Fo(c,g),g}function PI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new xo({eb:f})):new Pe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OI(){}t=OI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jc(){}jc.prototype.g=function(c,d){return new At(c,d)};function At(c,d){rt.call(this),this.g=new DI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!j(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!j(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Fi(this)}C(At,rt),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Jh(this.g)},At.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=jh(c),c=f);d.i.push(new YA(d.Ya++,c)),d.G==3&&Vc(d)},At.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,At.aa.N.call(this)};function kI(c){$h.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(kI,$h);function FI(){Hh.call(this),this.status=1}C(FI,Hh);function Fi(c){this.g=c}C(Fi,OI),Fi.prototype.ua=function(){pt(this.g,"a")},Fi.prototype.ta=function(c){pt(this.g,new kI(c))},Fi.prototype.sa=function(c){pt(this.g,new FI)},Fi.prototype.ra=function(){pt(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,uy=Wn.createWebChannelTransport=function(){return new jc},cy=Wn.getStatEventTarget=function(){return Ac()},ay=Wn.Event=Or,Td=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rc.NO_ERROR=0,Rc.TIMEOUT=8,Rc.HTTP_ERROR=6,Wa=Wn.ErrorCode=Rc,J_.COMPLETE="complete",oy=Wn.EventType=J_,W_.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Hs=Wn.WebChannel=W_,HU=Wn.FetchXmlHttpFactory=xo,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,sy=Wn.XhrIo=Pe}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});var $T="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var co="10.14.0";var Di=new Er("@firebase/firestore");function Ka(){return Di.logLevel}function U(t,...e){if(Di.logLevel<=le.DEBUG){let n=e.map(Kv);Di.debug(`Firestore (${co}): ${t}`,...n)}}function Qn(t,...e){if(Di.logLevel<=le.ERROR){let n=e.map(Kv);Di.error(`Firestore (${co}): ${t}`,...n)}}function Ys(t,...e){if(Di.logLevel<=le.WARN){let n=e.map(Kv);Di.warn(`Firestore (${co}): ${t}`,...n)}}function Kv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function Ie(t,e){t||K()}function Y(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var In=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},py=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},gy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},my=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new In;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new In,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new In)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new Nd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Qe(e)}},yy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},vy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_y=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Iy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ie(this.o===void 0);let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new _y(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function qU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=qU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function Zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends Pd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},zU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends Pd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return zU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var wy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};wy.UNKNOWN_ID=-1;function GU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new bi(i,q.empty(),e)}function WU(t){return new bi(t.readTime,t.key,-1)}var bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),q.empty(),-1)}static max(){return new t(ee.max(),q.empty(),-1)}};function KU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var QU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ey=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fc(t){return S(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==QU)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function YU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pc(t){return t.name==="IndexedDbTransactionError"}var D0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function lh(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function ZU(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var JU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],I8=[...JU,"documentOverlays"],XU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ej=XU,tj=[...ej,"indexConfiguration","indexState","indexEntries"];var w8=[...tj,"globals"];function HT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ws(this.root,e,this.comparator,!0)}},Ws=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Od(this.data.getIterator())}getIteratorFrom(e){return new Od(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Od=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wt=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var kd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var nj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(Ie(!!t),typeof t=="string"){let e=0,n=nj.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}function Qv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yv(t){let e=t.mapValue.fields.__previous_value__;return Qv(e)?Yv(e):e}function tc(t){let e=Yn(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var Dy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Fd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:T0(t)?9007199254740991:C0(t)?10:11:K()}function Cn(t,e){if(t===e)return!0;let n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yn(i.timestampValue),a=Yn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rr(i.bytesValue).isEqual(Rr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?ec(o)===ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HT(o)!==HT(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Cn(o[u],a[u])))return!1;return!0}(t,e);default:return K()}}function nc(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;let n=Ci(t),r=Ci(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),u=Ae(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return qT(t.timestampValue,e.timestampValue);case 4:return qT(tc(t),tc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Rr(s),u=Rr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=me(Ae(s.latitude),Ae(o.latitude));return a!==0?a:me(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=me(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:zT(v,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sd.mapValue&&o===Sd.mapValue)return 0;if(s===Sd.mapValue)return 1;if(o===Sd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let v=Js(a[u[p]],l[h[p]]);if(v!==0)return v}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function qT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Yn(t),r=Yn(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function zT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Js(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function Xs(t){return by(t)}function by(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=by(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${by(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function GT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cy(t){return!!t&&"integerValue"in t}function Zv(t){return!!t&&"arrayValue"in t}function WT(t){return!!t&&"nullValue"in t}function KT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function C0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ft=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ya(this.value))}};function S0(t){let e=[];return Ni(t.fields,(n,r)=>{let i=new Lt([n]);if(Rd(r)){let s=S0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Wt(e)}var nn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var eo=class{constructor(e,n){this.position=e,this.inclusive=n}};function QT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Js(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function YT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}var Ti=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function rj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ld=class{},He=class t extends Ld{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sy(e,n,r):n==="array-contains"?new My(e,r):n==="in"?new Ny(e,r):n==="not-in"?new xy(e,r):n==="array-contains-any"?new Py(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ay(e,r):new Ry(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Js(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rn=class t extends Ld{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return A0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function A0(t){return t.op==="and"}function R0(t){return ij(t)&&A0(t)}function ij(t){for(let e of t.filters)if(e instanceof rn)return!1;return!0}function Ty(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(R0(t))return t.filters.map(e=>Ty(e)).join(",");{let e=t.filters.map(n=>Ty(n)).join(",");return`${t.op}(${e})`}}function M0(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&M0(o,i.filters[a]),!0):!1}(t,e):void K()}function N0(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof rn?function(n){return n.op.toString()+" {"+n.getFilters().map(N0).join(" ,")+"}"}(t):"Filter"}var Sy=class extends He{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Ay=class extends He{constructor(e,n){super(e,"in",n),this.keys=x0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ry=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=x0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function x0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var My=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Zv(n)&&nc(n.arrayValue,this.value)}},Ny=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}},xy=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}},Py=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}};var Oy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function ZT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Oy(t,e,n,r,i,s,o)}function Jv(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ue=n}return e.ue}function Xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!M0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YT(t.startAt,e.startAt)&&YT(t.endAt,e.endAt)}function ky(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Mr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function sj(t,e,n,r,i,s,o,a){return new Mr(t,e,n,r,i,s,o,a)}function dh(t){return new Mr(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P0(t){return t.collectionGroup!==null}function Za(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Lt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ti(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new Ti(Lt.keyField(),r))}return e.ce}function En(t){let e=Y(t);return e.le||(e.le=oj(e,Za(t))),e.le}function oj(t,e){if(t.limitType==="F")return ZT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ti(i.field,s)});let n=t.endAt?new eo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eo(t.startAt.position,t.startAt.inclusive):null;return ZT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fy(t,e){let n=t.filters.concat([e]);return new Mr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ly(t,e,n){return new Mr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return Xv(En(t),En(e))&&t.limitType===e.limitType}function O0(t){return`${Jv(En(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N0(i)).join(", ")}]`),lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xs(i)).join(",")),`Target(${r})`}(En(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=QT(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Za(r),i)||r.endAt&&!function(o,a,u){let l=QT(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Za(r),i))}(t,e)}function aj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k0(t){return(e,n)=>{let r=!1;for(let i of Za(t)){let s=cj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cj(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Js(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var Nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return b0(this.inner)}size(){return this.innerSize}};var uj=new Le(q.comparator);function Zn(){return uj}var F0=new Le(q.comparator);function Qa(...t){let e=F0;for(let n of t)e=e.insert(n.key,n);return e}function L0(t){let e=F0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Ja()}function V0(){return Ja()}function Ja(){return new Nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var lj=new Le(q.comparator),dj=new ht(q.comparator);function de(...t){let e=dj;for(let n of t)e=e.add(n);return e}var hj=new ht(me);function fj(){return hj}function e_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function U0(t){return{integerValue:""+t}}function pj(t,e){return ZU(e)?U0(e):e_(t,e)}var to=class{constructor(){this._=void 0}};function gj(t,e,n){return t instanceof no?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qv(s)&&(s=Yv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Si?B0(t,e):t instanceof Ai?$0(t,e):function(i,s){let o=j0(i,s),a=XT(o)+XT(i.Pe);return Cy(o)&&Cy(i.Pe)?U0(a):e_(i.serializer,a)}(t,e)}function mj(t,e,n){return t instanceof Si?B0(t,e):t instanceof Ai?$0(t,e):n}function j0(t,e){return t instanceof ro?function(r){return Cy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var no=class extends to{},Si=class extends to{constructor(e){super(),this.elements=e}};function B0(t,e){let n=H0(e);for(let r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ai=class extends to{constructor(e){super(),this.elements=e}};function $0(t,e){let n=H0(e);for(let r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}var ro=class extends to{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function XT(t){return Ae(t.integerValue||t.doubleValue)}function H0(t){return Zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Si&&i instanceof Si||r instanceof Ai&&i instanceof Ai?Zs(r.elements,i.elements,Cn):r instanceof ro&&i instanceof ro?Cn(r.Pe,i.Pe):r instanceof no&&i instanceof no}(t.transform,e.transform)}var Vy=class{constructor(e,n){this.version=e,this.transformResults=n}},Kn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var io=class{};function q0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rc(t.key,Kn.none()):new Ri(t.key,t.data,Kn.none());{let n=t.data,r=Ft.empty(),i=new ht(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Tn(t.key,r,new Wt(i.toArray()),Kn.none())}}function vj(t,e,n){t instanceof Ri?function(i,s,o){let a=i.value.clone(),u=t0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Tn?function(i,s,o){if(!Md(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=t0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(z0(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Ri?function(s,o,a,u){if(!Md(s.precondition,o))return a;let l=s.value.clone(),h=n0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Tn?function(s,o,a,u){if(!Md(s.precondition,o))return a;let l=n0(s.fieldTransforms,u,o),h=o.data;return h.setAll(z0(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Md(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _j(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=j0(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function e0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(s,o)=>yj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ri=class extends io{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Tn=class extends io{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function z0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function t0(t,e,n){let r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mj(o,a,n[i]))}return r}function n0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,gj(s,o,e))}return r}var rc=class extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Uy=class extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var jy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&vj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=V0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=q0(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,r)=>e0(n,r))&&Zs(this.baseMutations,e.baseMutations,(n,r)=>e0(n,r))}},By=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return lj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var $y=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Hy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,fe;function Ij(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function G0(t){if(t===void 0)return Qn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Be.OK:return N.OK;case Be.CANCELLED:return N.CANCELLED;case Be.UNKNOWN:return N.UNKNOWN;case Be.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Be.INTERNAL:return N.INTERNAL;case Be.UNAVAILABLE:return N.UNAVAILABLE;case Be.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Be.NOT_FOUND:return N.NOT_FOUND;case Be.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Be.ABORTED:return N.ABORTED;case Be.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Be.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(fe=Be||(Be={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var r0=null;function wj(){return new TextEncoder}var Ej=new Sr([4294967295,4294967295],0);function i0(t){let e=wj().encode(t),n=new iy;return n.update(e),new Uint8Array(n.digest())}function s0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([i,s],0)]}var qy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wi(`Invalid padding: ${n}`);if(r<0)throw new wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Sr.fromNumber(r)));return i.compare(Ej)===1&&(i=new Sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=i0(e),[r,i]=s0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=i0(e),[r,i]=s0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Le(me),Zn(),de())}},ic=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var Ks=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ud=class{constructor(e,n){this.targetId=e,this.me=n}},jd=class{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Bd=class{constructor(){this.fe=0,this.ge=a0(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new ic(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},zy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zn(),this.qe=o0(),this.Qe=new Le(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(ky(s))if(r===0){let o=new q(s.path);this.Ue(n,o,nn.newNoDocument(o,ee.min()))}else Ie(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}r0?.et(function(h,p,m,v,C){var M,R,O,j,V,B;let _e={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},z=p.unchangedNames;return z&&(_e.bloomFilter={applied:C===0,hashCount:(M=z?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(j=(O=(R=z?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&j!==void 0?j:0,padding:(B=(V=z?.bits)===null||V===void 0?void 0:V.padding)!==null&&B!==void 0?B:0,mightContain:w=>{var y;return(y=v?.mightContain(w))!==null&&y!==void 0&&y}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Rr(r).toUint8Array()}catch(u){if(u instanceof kd)return Ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new qy(o,i,s)}catch(u){return Ys(u instanceof wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&ky(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,nn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Vd(e,n,this.Qe,this.ke,r);return this.ke=Zn(),this.qe=o0(),this.Qe=new Le(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Bd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function o0(){return new Le(q.comparator)}function a0(){return new Le(q.comparator)}var Dj={asc:"ASCENDING",desc:"DESCENDING"},bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cj={and:"AND",or:"OR"},Gy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Wy(t,e){return t.useProto3Json||lh(e)?e:{value:e}}function $d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tj(t,e){return $d(t,e.toTimestamp())}function Dn(t){return Ie(!!t),ee.fromTimestamp(function(n){let r=Yn(n);return new et(r.seconds,r.nanos)}(t))}function t_(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function K0(t){let e=Ne.fromString(t);return Ie(X0(e)),e}function Qy(t,e){return t_(t.databaseId,e.path)}function ly(t,e){let n=K0(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(Y0(n))}function Q0(t,e){return t_(t.databaseId,e)}function Sj(t){let e=K0(t);return e.length===4?Ne.emptyPath():Y0(e)}function Yy(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y0(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c0(t,e,n){return{name:Qy(t,e),fields:n.value.mapValue.fields}}function Aj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string"),ft.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:G0(l.code);return new L(h,l.message||"")}(o);n=new jd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ly(t,r.document.name),s=Dn(r.document.updateTime),o=r.document.createTime?Dn(r.document.createTime):ee.min(),a=new Ft({mapValue:{fields:r.document.fields}}),u=nn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ks(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ly(t,r.document),s=r.readTime?Dn(r.readTime):ee.min(),o=nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ks([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ly(t,r.document),s=r.removedTargetIds||[];n=new Ks([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Hy(i,s),a=r.targetId;n=new Ud(a,o)}}return n}function Rj(t,e){let n;if(e instanceof Ri)n={update:c0(t,e.key,e.value)};else if(e instanceof rc)n={delete:Qy(t,e.key)};else if(e instanceof Tn)n={update:c0(t,e.key,e.data),updateMask:Vj(e.fieldMask)};else{if(!(e instanceof Uy))return K();n={verify:Qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof no)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Si)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ro)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function Mj(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Dn(i.updateTime):Dn(s);return o.isEqual(ee.min())&&(o=Dn(s)),new Vy(o,i.transformResults||[])}(n,e))):[]}function Nj(t,e){return{documents:[Q0(t,e.path)]}}function xj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q0(t,i);let s=function(l){if(l.length!==0)return J0(rn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:zs(m.field),direction:kj(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Wy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Pj(t){let e=Sj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=Z0(p);return m instanceof rn&&R0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new Ti(Gs(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,lh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new eo(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new eo(v,m)}(n.endAt)),sj(e,i,o,s,a,"F",u,l)}function Oj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Gs(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Gs(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Gs(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Gs(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rn.create(n.compositeFilter.filters.map(r=>Z0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function kj(t){return Dj[t]}function Fj(t){return bj[t]}function Lj(t){return Cj[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return Lt.fromServerFormat(t.fieldPath)}function J0(t){return t instanceof He?function(n){if(n.op==="=="){if(KT(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(WT(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KT(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(WT(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:Fj(n.op),value:n.value}}}(t):t instanceof rn?function(n){let r=n.getFilters().map(i=>J0(i));return r.length===1?r[0]:{compositeFilter:{op:Lj(n.op),filters:r}}}(t):K()}function Vj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var sc=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zy=class{constructor(e){this.ct=e}};function Uj(t){let e=Pj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ly(e,e.limit,"L"):e}var Hd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ec(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Yn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Rr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?T0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):C0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Hd.vt=new Hd;var Jy=class{constructor(){this.un=new Xy}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(bi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Xy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Ne.comparator)).toArray()}};var D8=new Uint8Array(0);var _n=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);var oc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ev=class{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var nv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,Wt.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zn(),o=Ja(),a=function(){return Ja()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Tn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Xa(h.mutation,l,h.mutation.getFieldMask(),et.now())):o.set(l.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new tv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ja(),i=new Le((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Wt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=V0();h.forEach(m=>{if(!s.has(m)){let v=q0(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Ii()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:L0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Qa();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Mr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,nn.newInvalidDocument(h)))});let a=Qa();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Xa(h.mutation,l,Wt.empty(),et.now()),fh(n,l)&&(a=a.insert(u,l))}),a})}};var rv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Uj(i.bundledQuery),readTime:Dn(i.readTime)}}(n)),x.resolve()}};var iv=class{constructor(){this.overlays=new Le(q.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ii();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ii(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Ii(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $y(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var sv=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var ac=class{constructor(){this.Tr=new ht($e.Er),this.dr=new ht($e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $e(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Ne([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Ne([])),r=new $e(n,e),i=new $e(n,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new $e(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||q.comparator(e.key,n.key)}};var ov=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht($e.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new jy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(me);return n.forEach(i=>{let s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new $e(new q(s),0),a=new ht(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new $e(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var av=class{constructor(e){this.Mr=e,this.docs=function(){return new Le(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zn(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||KU(WU(h),r)<=0||(i.has(h.key)||fh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cv(this)}getSize(e){return x.resolve(this.size)}},cv=class extends ev{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var uv=class{constructor(e){this.persistence=e,this.Nr=new Nr(n=>Jv(n),Xv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ac,this.targetCount=0,this.kr=oc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var lv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new D0(0),this.Kr=!1,this.Kr=!0,this.$r=new sv,this.referenceDelegate=e(this),this.Ur=new uv(this),this.indexManager=new Jy,this.remoteDocumentCache=function(i){return new av(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Zy(n),this.Gr=new rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ov(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new dv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},dv=class extends Ey{constructor(e){super(),this.currentSequenceNumber=e}},hv=class t{constructor(e){this.persistence=e,this.Jr=new ac,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var fv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var pv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iT()?8:YU(kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new pv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ka()<=le.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ka()<=le.DEBUG&&U("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ka()<=le.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(n))):x.resolve())}Yi(e,n){if(JT(n))return x.resolve(null);let r=En(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ly(n,null,"F"),r=En(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ly(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return JT(n)||i.isEqual(ee.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Ka()<=le.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.rs(e,o,n,GU(i,-1)).next(a=>a))})}ts(e,n){let r=new ht(k0(e));return n.forEach((i,s)=>{fh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ka()<=le.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,bi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var mv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Le(me),this._s=new Nr(s=>Jv(s),Xv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function jj(t,e,n,r){return new mv(t,e,n,r)}function eS(t,e){return S(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Bj(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);Ie(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tS(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $j(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ft.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Zn(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(Hj(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ee.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function Hj(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function qj(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zj(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new sc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function yv(t,e,n){return S(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pc(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function u0(t,e,n){let r=Y(t),i=ee.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Y(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,En(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:de())).next(a=>(Gj(r,aj(e),a),{documents:a,Ts:s})))}function Gj(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var qd=class{constructor(){this.activeTargetIds=fj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vv=class{constructor(){this.so=new qd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _v=class{_o(e){}shutdown(){}};var zd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ad=null;function dy(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}var Wj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Iv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var dt="WebChannelConnection",wv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=dy(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ys("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Wj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=dy();return new Promise((o,a)=>{let u=new sy;u.setWithCredentials(!0),u.listenOnce(oy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wa.NO_ERROR:let h=u.getResponseJson();U(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Wa.TIMEOUT:U(dt,`RPC '${e}' ${s} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case Wa.HTTP_ERROR:let p=u.getStatus();if(U(dt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let C=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(v.status);a(new L(C,v.message))}else a(new L(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{U(dt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);U(dt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=dy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uy(),a=cy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");U(dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,C=new Iv({Io:R=>{v?U(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,O,j)=>{R.listen(O,V=>{try{j(V)}catch(B){setTimeout(()=>{throw B},0)}})};return M(p,Hs.EventType.OPEN,()=>{v||(U(dt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),M(p,Hs.EventType.CLOSE,()=>{v||(v=!0,U(dt,`RPC '${e}' stream ${i} transport closed`),C.So())}),M(p,Hs.EventType.ERROR,R=>{v||(v=!0,Ys(dt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Hs.EventType.MESSAGE,R=>{var O;if(!v){let j=R.data[0];Ie(!!j);let V=j,B=V.error||((O=V[0])===null||O===void 0?void 0:O.error);if(B){U(dt,`RPC '${e}' stream ${i} received error:`,B);let _e=B.status,z=function(_){let E=Be[_];if(E!==void 0)return G0(E)}(_e),w=B.message;z===void 0&&(z=N.INTERNAL,w="Unknown error status: "+_e+" with message "+B.message),v=!0,C.So(new L(z,w)),p.close()}else U(dt,`RPC '${e}' stream ${i} received:`,j),C.bo(j)}}),M(a,ay.STAT_EVENT,R=>{R.stat===Td.PROXY?U(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Td.NOPROXY&&U(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function hy(){return typeof document<"u"?document:null}function ph(t){return new Gy(t,!0)}var Gd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Wd=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Gd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ev=class extends Wd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Aj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Dn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Yy(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=ky(u)?{documents:Nj(s,u)}:{query:xj(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=W0(s,o.resumeToken);let l=Wy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=$d(s,o.snapshotVersion.toTimestamp());let l=Wy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Oj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Yy(this.serializer),n.removeTarget=e,this.a_(n)}},Dv=class extends Wd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Mj(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Yy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Rj(this.serializer,r))};this.a_(n)}};var bv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ky(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ky(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Cv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qn(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Tv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>S(this,null,function*(){xi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=Y(u);l.L_.add(4),yield gc(l),l.q_.set("Unknown"),l.L_.delete(4),yield gh(l)})}(this))}))}),this.q_=new Cv(r,i)}};function gh(t){return S(this,null,function*(){if(xi(t))for(let e of t.B_)yield e(!0)})}function gc(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function nS(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),s_(n)?i_(n):uo(n).r_()&&r_(n,e))}function n_(t,e){let n=Y(t),r=uo(n);n.N_.delete(e),r.r_()&&rS(n,e),n.N_.size===0&&(r.r_()?r.o_():xi(n)&&n.q_.set("Unknown"))}function r_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).A_(e)}function rS(t,e){t.Q_.xe(e),uo(t).R_(e)}function i_(t){t.Q_=new zy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.q_.v_()}function s_(t){return xi(t)&&!uo(t).n_()&&t.N_.size>0}function xi(t){return Y(t).L_.size===0}function iS(t){t.Q_=void 0}function Kj(t){return S(this,null,function*(){t.q_.set("Online")})}function Qj(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{r_(t,e)})})}function Yj(t,e){return S(this,null,function*(){iS(t),s_(t)?(t.q_.M_(e),i_(t)):t.q_.set("Unknown")})}function Zj(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof jd&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Kd(t,r)}else if(e instanceof Ks?t.Q_.Ke(e):e instanceof Ud?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{let r=yield tS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),rS(s,u);let p=new sc(h.target,u,l,h.sequenceNumber);r_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield Kd(t,r)}})}function Kd(t,e,n){return S(this,null,function*(){if(!pc(e))throw e;t.L_.add(1),yield gc(t),t.q_.set("Offline"),n||(n=()=>tS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield gh(t)}))})}function sS(t,e){return e().catch(n=>Kd(t,n,e))}function mh(t){return S(this,null,function*(){let e=Y(t),n=xr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Jj(e);)try{let i=yield qj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Xj(e,i)}catch(i){yield Kd(e,i)}oS(e)&&aS(e)})}function Jj(t){return xi(t)&&t.O_.length<10}function Xj(t,e){t.O_.push(e);let n=xr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oS(t){return xi(t)&&!xr(t).n_()&&t.O_.length>0}function aS(t){xr(t).start()}function e2(t){return S(this,null,function*(){xr(t).p_()})}function t2(t){return S(this,null,function*(){let e=xr(t);for(let n of t.O_)e.m_(n.mutations)})}function n2(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=By.from(r,e,n);yield sS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mh(t)})}function r2(t,e){return S(this,null,function*(){e&&xr(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(o){return Ij(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();xr(r).s_(),yield sS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield mh(r)}})}(t,e)),oS(t)&&aS(t)})}function l0(t,e){return S(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=xi(n);n.L_.add(3),yield gc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield gh(n)})}function i2(t,e){return S(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield gh(n)):e||(n.L_.add(2),yield gc(n),n.q_.set("Unknown"))})}function uo(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new Ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Kj.bind(null,t),Ro:Qj.bind(null,t),mo:Yj.bind(null,t),d_:Zj.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),s_(t)?i_(t):t.q_.set("Unknown")):(yield t.K_.stop(),iS(t))}))),t.K_}function xr(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new Dv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e2.bind(null,t),mo:r2.bind(null,t),f_:t2.bind(null,t),g_:n2.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield mh(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Sv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function o_(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),pc(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Qd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Yd=class{constructor(){this.W_=new Le(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},so=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Qd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Av=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Rv=class{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=d0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function d0(){return new Nr(t=>O0(t),hh)}function cS(t,e){return S(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Av,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=o_(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&a_(n)})}function uS(t,e){return S(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function s2(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&a_(n)}function o2(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function a_(t){t.Y_.forEach(e=>{e.next()})}var Mv,h0;(h0=Mv||(Mv={})).ea="default",h0.Cache="cache";var Zd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mv.Cache}};var Jd=class{constructor(e){this.key=e}},Xd=class{constructor(e){this.key=e}},Nv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=k0(e),this.Ra=new Qd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Yd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=fh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?C!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return M(v)-M(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new so(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Xd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Jd(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return so.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},xv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Pv=class{constructor(e){this.key=e,this.va=!1}},Ov=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Nr(a=>O0(a),hh),this.Ma=new Map,this.xa=new Set,this.Oa=new Le(q.comparator),this.Na=new Map,this.La=new ac,this.Ba={},this.ka=new Map,this.qa=oc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function a2(t,e,n=!0){return S(this,null,function*(){let r=gS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield lS(r,e,n,!0),i})}function c2(t,e){return S(this,null,function*(){let n=gS(t);yield lS(n,e,!0,!1)})}function lS(t,e,n,r){return S(this,null,function*(){let i=yield zj(t.localStore,En(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield u2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&nS(t.remoteStore,i),a})}function u2(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,O,j){return S(this,null,function*(){let V=R.view.ma(O);V.ns&&(V=yield u0(M.localStore,R.query,!1).then(({documents:w})=>R.view.ma(w,V)));let B=j&&j.targetChanges.get(R.targetId),_e=j&&j.targetMismatches.get(R.targetId)!=null,z=R.view.applyChanges(V,M.isPrimaryClient,B,_e);return p0(M,R.targetId,z.wa),z.snapshot})}(t,p,m,v);let s=yield u0(t.localStore,e,!0),o=new Nv(e,s.Ts),a=o.ma(s.documents),u=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);p0(t,n,l.wa);let h=new xv(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function l2(t,e,n){return S(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!hh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&n_(r.remoteStore,i.targetId),kv(r,i.targetId)}).catch(fc))):(kv(r,i.targetId),yield yv(r.localStore,i.targetId,!0))})}function d2(t,e){return S(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),n_(n.remoteStore,r.targetId))})}function h2(t,e,n){return S(this,null,function*(){let r=_2(t);try{let i=yield function(o,a){let u=Y(o),l=et.now(),h=a.reduce((v,C)=>v.add(C.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Zn(),M=de();return u.cs.getEntries(v,h).next(R=>{C=R,C.forEach((O,j)=>{j.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(R=>{p=R;let O=[];for(let j of a){let V=_j(j,p.get(j.key).overlayedDocument);V!=null&&O.push(new Tn(j.key,V,S0(V.value.mapValue),Kn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:L0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Le(me)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield mc(r,i.changes),yield mh(r.remoteStore)}catch(i){let s=o_(i,"Failed to persist write");n.reject(s)}})}function dS(t,e){return S(this,null,function*(){let n=Y(t);try{let r=yield $j(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ie(o.va):i.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),yield mc(n,r,e)}catch(r){yield fc(r)}})}function f0(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&a_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function f2(t,e,n){return S(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Le(q.comparator);o=o.insert(s,nn.newNoDocument(s,ee.min()));let a=de().add(s),u=new Vd(ee.min(),new Map,new Le(me),o,a);yield dS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),c_(r)}else yield yv(r.localStore,e,!1).then(()=>kv(r,e,n)).catch(fc)})}function p2(t,e){return S(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield Bj(n.localStore,e);fS(n,r,null),hS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield mc(n,i)}catch(i){yield fc(i)}})}function g2(t,e,n){return S(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fS(r,e,n),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield mc(r,i)}catch(i){yield fc(i)}})}function hS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fS(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function kv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pS(t,r)})}function pS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(n_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),c_(t))}function p0(t,e,n){for(let r of n)r instanceof Jd?(t.La.addReference(r.key,e),m2(t,r)):r instanceof Xd?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pS(t,r.key)):K()}function m2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),c_(t))}function c_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new Pv(n)),t.Oa=t.Oa.insert(n,r),nS(t.remoteStore,new sc(En(dh(n.path)),r,"TargetPurposeLimboResolution",D0.oe))}}function mc(t,e,n){return S(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=fv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!pc(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),C=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function y2(t,e){return S(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield eS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mc(n,r.hs)}})}function v2(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function gS(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.Ca.d_=s2.bind(null,e.eventManager),e.Ca.$a=o2.bind(null,e.eventManager),e}function _2(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g2.bind(null,e),e}var g0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=ph(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return jj(this.persistence,new gv,n.initialUser,this.serializer)}Ga(n){return new lv(hv.Zr,this.serializer)}Wa(n){return new vv}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var I2=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y2.bind(null,this.syncEngine),yield i2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Rv}()}createDatastore(n){let r=ph(n.databaseInfo.databaseId),i=function(o){return new wv(o)}(n.databaseInfo);return function(o,a,u,l){return new bv(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new Tv(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>f0(this.syncEngine,r,0),function(){return zd.D()?new zd:new _v}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new Ov(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(s){return S(this,null,function*(){let o=Y(s);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield gc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var eh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Fv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>S(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=o_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fy(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield eS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function m0(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield w2(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>l0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>l0(e.remoteStore,i)),t._onlineComponents=e})}function w2(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),yield fy(t,new g0)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield fy(t,new g0);return t._offlineComponents})}function mS(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield m0(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield m0(t,new I2))),t._onlineComponents})}function E2(t){return mS(t).then(e=>e.syncEngine)}function Lv(t){return S(this,null,function*(){let e=yield mS(t),n=e.eventManager;return n.onListen=a2.bind(null,e.syncEngine),n.onUnlisten=l2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d2.bind(null,e.syncEngine),n})}function D2(t,e,n={}){let r=new In;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(s,o,a,u,l){let h=new eh({next:m=>{h.Za(),o.enqueueAndForget(()=>uS(s,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new L(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Zd(dh(a.path),h,{includeMetadataChanges:!0,_a:!0});return cS(s,p)}(yield Lv(t),t.asyncQueue,e,n,r)})),r.promise}function yS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var y0=new Map;function vS(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b2(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!q.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _0(t){if(q.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=yh(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var th=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new th({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new th(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new py;switch(r.type){case"firstParty":return new vy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=y0.get(n);r&&(U("ComponentProvider","Removing Datastore"),y0.delete(n),r.terminate())}(this),Promise.resolve()}};function _S(t,e,n,r={}){var i;let s=(t=bn(t,oo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=cd(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new gy(new Nd(a,u))}}var Mi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Et=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ar=class t extends Mi{constructor(e,n,r){super(e,n,dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function IS(t,e,...n){if(t=Ve(t),vS("collection","path",e),t instanceof oo){let r=Ne.fromString(e,...n);return _0(r),new Ar(t,null,r)}{if(!(t instanceof Et||t instanceof Ar))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return _0(r),new Ar(t.firestore,null,r)}}function u_(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=xd.newId()),vS("doc","path",e),t instanceof oo){let r=Ne.fromString(e,...n);return v0(r),new Et(t,null,new q(r))}{if(!(t instanceof Et||t instanceof Ar))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return v0(r),new Et(t.firestore,t instanceof Ar?t.converter:null,new q(r))}}var nh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Gd(this,"async_queue_retry"),this.Vu=()=>{let r=hy();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new In;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Sv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&K()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function I0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Jn=class extends oo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new nh(e),this._firestoreClient=void 0,yield e}})}};function wS(t,e){let n=typeof t=="object"?t:hi(),r=typeof t=="string"?t:e||"(default)",i=ja(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ad("firestore");s&&_S(i,...s)}return i}function l_(t){if(t._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C2(t),t._firestoreClient}function C2(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Dy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Fv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ft.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ao=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uc=class{constructor(e){this._methodName=e}};var lc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var dc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var T2=/^__.*__$/,Vv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ri(e,this.data,n,this.fieldTransforms)}},rh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ES(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var Uv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ES(this.Cu)&&T2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},jv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ph(e)}Qu(e,n,r,i=!1){return new Uv({Cu:e,methodName:n,qu:r,path:Lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function d_(t){let e=t._freezeSettings(),n=ph(t._databaseId);return new jv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function S2(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);h_("Data must be an object, but it was:",o,r);let a=DS(r,o),u,l;if(s.merge)u=new Wt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Bv(e,p,n);if(!o.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CS(h,m)||h.push(m)}u=new Wt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Vv(new Ft(a),u,l)}var ih=class t extends uc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function A2(t,e,n,r){let i=t.Qu(1,e,n);h_("Data must be an object, but it was:",i,r);let s=[],o=Ft.empty();Ni(r,(u,l)=>{let h=f_(e,u,n);l=Ve(l);let p=i.Nu(h);if(l instanceof ih)s.push(h);else{let m=yc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new Wt(s);return new rh(o,a,i.fieldTransforms)}function R2(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[Bv(e,r,n)],u=[i];if(s.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Bv(e,s[m])),u.push(s[m+1]);let l=[],h=Ft.empty();for(let m=a.length-1;m>=0;--m)if(!CS(l,a[m])){let v=a[m],C=u[m];C=Ve(C);let M=o.Nu(v);if(C instanceof ih)l.push(v);else{let R=yc(C,M);R!=null&&(l.push(v),h.set(v,R))}}let p=new Wt(l);return new rh(h,p,o.fieldTransforms)}function M2(t,e,n,r=!1){return yc(n,t.Qu(r?4:3,e))}function yc(t,e){if(bS(t=Ve(t)))return h_("Unsupported field value:",e,t),DS(t,e);if(t instanceof uc)return function(r,i){if(!ES(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=yc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=et.fromDate(r);return{timestampValue:$d(i.serializer,s)}}if(r instanceof et){let s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$d(i.serializer,s)}}if(r instanceof lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cc)return{bytesValue:W0(i.serializer,r._byteString)};if(r instanceof Et){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:t_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return e_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yh(r)}`)}(t,e)}function DS(t,e){let n={};return b0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{let s=yc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof lc||t instanceof cc||t instanceof Et||t instanceof uc||t instanceof dc)}function h_(t,e,n){if(!bS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=yh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Bv(t,e,n){if((e=Ve(e))instanceof ao)return e._internalPath;if(typeof e=="string")return f_(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}var N2=new RegExp("[~\\*/\\[\\]]");function f_(t,e,n){if(e.search(N2)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ao(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}function CS(t,e){return t.some(n=>n.isEqual(e))}var oh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(p_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},$v=class extends oh{data(){return super.data()}};function p_(t,e){return typeof e=="string"?f_(t,e):e instanceof ao?e._internalPath:e._delegate._internalPath}function x2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hc=class{},ah=class extends hc{};function TS(t,e,...n){let r=[];e instanceof hc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof qv).length,a=s.filter(u=>u instanceof Hv).length;if(o>1||o>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Hv=class t extends ah{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return AS(e._query,n),new Mi(e.firestore,e.converter,Fy(e._query,n))}_parse(e){let n=d_(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){E0(p,h);let v=[];for(let C of p)v.push(w0(u,s,C));m={arrayValue:{values:v}}}else m=w0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||E0(p,h),m=M2(a,o,p,h==="in"||h==="not-in");return He.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var qv=class t extends hc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)AS(o,u),o=Fy(o,u)}(e._query,n),new Mi(e.firestore,e.converter,Fy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var zv=class t extends ah{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ti(s,o)}(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Mr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function SS(t,e="asc"){let n=e,r=p_("orderBy",t);return zv._create(r,n)}function w0(t,e,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!q.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GT(t,new q(r))}if(n instanceof Et)return GT(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function E0(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Gv=class{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ni(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new dc(s)}convertGeoPoint(e){return new lc(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Yv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){let n=Yn(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);Ie(X0(r));let i=new Fd(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function P2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ei=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ch=class extends oh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(p_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qs=class extends ch{data(e={}){return super.data(e)}},Wv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qs(this._firestore,this._userDataWriter,r.key,r,new Ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:O2(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function O2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function RS(t){t=bn(t,Et);let e=bn(t.firestore,Jn);return D2(l_(e),t._key).then(n=>PS(e,t,n))}var uh=class extends Gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}};function MS(t,e,n,...r){t=bn(t,Et);let i=bn(t.firestore,Jn),s=d_(i),o;return o=typeof(e=Ve(e))=="string"||e instanceof ao?R2(s,"updateDoc",t._key,e,n,r):A2(s,"updateDoc",t._key,e),m_(i,[o.toMutation(t._key,Kn.exists(!0))])}function NS(t){return m_(bn(t.firestore,Jn),[new rc(t._key,Kn.none())])}function xS(t,e){let n=bn(t.firestore,Jn),r=u_(t),i=P2(t.converter,e);return m_(n,[S2(d_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function g_(t,...e){var n,r,i;t=Ve(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||I0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(I0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Et)l=bn(t.firestore,Jn),h=dh(t._key.path),u={next:p=>{e[o]&&e[o](PS(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=bn(t,Mi);l=bn(p.firestore,Jn),h=p._query;let m=new uh(l);u={next:v=>{e[o]&&e[o](new Wv(l,m,p,v))},error:e[o+1],complete:e[o+2]},x2(t._query)}return function(m,v,C,M){let R=new eh(M),O=new Zd(v,R,C);return m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return cS(yield Lv(m),O)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return uS(yield Lv(m),O)}))}}(l_(l),h,a,u)}function m_(t,e){return function(r,i){let s=new In;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return h2(yield E2(r),i,s)})),s.promise}(l_(t),e)}function PS(t,e,n){let r=n.docs.get(e._key),i=new uh(t);return new ch(t,i,e._key,r,new Ei(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){co=i})(br),vn(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Jn(new my(r.getProvider("auth-internal")),new Iy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Me($T,"4.7.3",e),Me($T,"4.7.3","esm2017")})();var vh=function(){return vh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vh.apply(this,arguments)};var L2={includeMetadataChanges:!1};function OS(t,e){return e===void 0&&(e=L2),new ie(function(n){var r=g_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function kS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:vh(vh({},r),(n={},n[e.idField]=t.id,n))}function FS(t){return OS(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function LS(t,e){return e===void 0&&(e={}),FS(t).pipe(ne(function(n){return n.map(function(r){return kS(r,e)})}))}var Pi=class{constructor(e){return e}},VS="firestore",y_=class{constructor(){return gi(VS)}};var v_=new H("angularfire2.firestore-instances");function V2(t,e){let n=Ba(VS,t,e);return n&&new Pi(n)}function U2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pi(r)}}var j2={provide:y_,deps:[[new ot,v_]]},B2={provide:Pi,useFactory:V2,deps:[[new ot,v_],Gn]};function US(t,...e){return Me("angularfire",Cr.full,"fst"),pn([B2,j2,{provide:v_,useFactory:U2(t),multi:!0,deps:[we,_t,mi,yi,[new ot,$s],[new ot,pi],...e]}])}var jS=We(LS,!0);var BS=We(xS,!0);var $S=We(IS,!0);var HS=We(NS,!0);var qS=We(u_,!0);var zS=We(RS,!0);var GS=We(wS,!0);var WS=We(SS,!0);var KS=We(TS,!0);var QS=We(MS,!0);var rA="firebasestorage.googleapis.com",iA="storageBucket",$2=2*60*1e3,H2=10*60*1e3,q2=1e3;var xe=class t extends Ct{constructor(e,n,r=0){super(__(e),`Firebase Storage: ${n} (${__(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return __(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Re=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Re||{});function __(t){return"storage/"+t}function A_(){let t="An unknown error occurred, please check the error payload for server response.";return new xe(Re.UNKNOWN,t)}function z2(t){return new xe(Re.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function G2(t){return new xe(Re.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W2(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Re.UNAUTHENTICATED,t)}function K2(){return new xe(Re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q2(t){return new xe(Re.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sA(){return new xe(Re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oA(){return new xe(Re.CANCELED,"User canceled the upload/download.")}function Y2(t){return new xe(Re.INVALID_URL,"Invalid URL '"+t+"'.")}function Z2(t){return new xe(Re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J2(){return new xe(Re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iA+"' property when initializing the app?")}function aA(){return new xe(Re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X2(){return new xe(Re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function eB(){return new xe(Re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tB(t){return new xe(Re.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function w_(t){return new xe(Re.INVALID_ARGUMENT,t)}function cA(){return new xe(Re.APP_DELETED,"The Firebase app was deleted.")}function nB(t){return new xe(Re.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _c(t,e){return new xe(Re.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vc(t){throw new xe(Re.INTERNAL_ERROR,"Internal error: "+t)}var sn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Z2(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(B){B.path_=decodeURIComponent(B.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},M=n===rA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${M}/${i}/${R}`,"i"),V=[{regex:a,indices:u,postModify:s},{regex:v,indices:C,postModify:l},{regex:O,indices:{bucket:1,path:2},postModify:l}];for(let B=0;B<V.length;B++){let _e=V[B],z=_e.regex.exec(e);if(z){let w=z[_e.indices.bucket],y=z[_e.indices.path];y||(y=""),r=new t(w,y),_e.postModify(r);break}}if(r==null)throw Y2(e);return r}},E_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function rB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function h(...R){l||(l=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(v,u())},R)}function m(){s&&clearTimeout(s)}function v(R,...O){if(l){m();return}if(R){m(),h.call(null,R,...O);return}if(u()||o){m(),h.call(null,R,...O);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,p(V)}let C=!1;function M(R){C||(C=!0,m(),!l&&(i!==null?(R||(a=2),clearTimeout(i),p(0)):R||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,M(!0)},n),M}function iB(t){t(!1)}function sB(t){return t!==void 0}function oB(t){return typeof t=="function"}function aB(t){return typeof t=="object"&&!Array.isArray(t)}function Eh(t){return typeof t=="string"||t instanceof String}function YS(t){return R_()&&t instanceof Blob}function R_(){return typeof Blob<"u"}function ZS(t,e,n,r){if(r<e)throw w_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw w_(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ec(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uA(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var po=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(po||{});function lA(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var D_=class{constructor(e,n,r,i,s,o,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,C)=>{this.resolve_=v,this.reject_=C,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new fo(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===po.NO_ERROR,u=s.getStatus();if(!a||lA(u,this.additionalRetryCodes_)&&this.retry){let h=s.getErrorCode()===po.ABORT;r(!1,new fo(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new fo(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());sB(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=A_();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?cA():oA();o(u)}else{let u=sA();o(u)}};this.canceled_?n(!1,new fo(!1,null,!0)):this.backoffId_=rB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},fo=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function cB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hB(t,e,n,r,i,s,o=!0){let a=uA(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return lB(l,e),cB(l,n),uB(l,s),dB(l,r),new D_(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function fB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pB(...t){let e=fB();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(R_())return new Blob(t);throw new xe(Re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function mB(t){if(typeof atob>"u")throw tB("base-64");return atob(t)}var Sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ic=class{constructor(e,n){this.data=e,this.contentType=n||null}};function yB(t,e){switch(t){case Sn.RAW:return new Ic(dA(e));case Sn.BASE64:case Sn.BASE64URL:return new Ic(hA(t,e));case Sn.DATA_URL:return new Ic(_B(e),IB(e))}throw A_()}function dA(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vB(t){let e;try{e=decodeURIComponent(t)}catch{throw _c(Sn.DATA_URL,"Malformed data URL.")}return dA(e)}function hA(t,e){switch(t){case Sn.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _c(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sn.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _c(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mB(e)}catch(i){throw i.message.includes("polyfill")?i:_c(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Ih=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw _c(Sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=wB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function _B(t){let e=new Ih(t);return e.base64?hA(Sn.BASE64,e.rest):vB(e.rest)}function IB(t){return new Ih(t).contentType}function wB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var wh=class t{constructor(e,n){let r=0,i="";YS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(YS(this.data_)){let r=this.data_,i=gB(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(R_()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(pB.apply(null,n))}else{let n=e.map(o=>Eh(o)?yB(Sn.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function fA(t){let e;try{e=JSON.parse(t)}catch{return null}return aB(e)?e:null}function EB(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DB(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pA(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function bB(t,e){return e}var tt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||bB}},_h=null;function CB(t){return!Eh(t)||t.length<2?t:pA(t)}function gA(){if(_h)return _h;let t=[];t.push(new tt("bucket")),t.push(new tt("generation")),t.push(new tt("metageneration")),t.push(new tt("name","fullPath",!0));function e(s,o){return CB(o)}let n=new tt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new tt("size");return i.xform=r,t.push(i),t.push(new tt("timeCreated")),t.push(new tt("updated")),t.push(new tt("md5Hash",null,!0)),t.push(new tt("cacheControl",null,!0)),t.push(new tt("contentDisposition",null,!0)),t.push(new tt("contentEncoding",null,!0)),t.push(new tt("contentLanguage",null,!0)),t.push(new tt("contentType",null,!0)),t.push(new tt("metadata","customMetadata",!0)),_h=t,_h}function TB(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new sn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function SB(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return TB(r,t),r}function mA(t,e,n){let r=fA(e);return r===null?null:SB(t,r,n)}function AB(t,e,n,r){let i=fA(e);if(i===null||!Eh(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let h=t.bucket,p=t.fullPath,m="/b/"+o(h)+"/o/"+o(p),v=Ec(m,n,r),C=uA({alt:"media",token:l});return v+C})[0]}function yA(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Pr=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Xn(t){if(!t)throw A_()}function M_(t,e){function n(r,i){let s=mA(t,i,e);return Xn(s!==null),s}return n}function RB(t,e){function n(r,i){let s=mA(t,i,e);return Xn(s!==null),AB(s,i,t.host,t._protocol)}return n}function Dc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=K2():i=W2():n.getStatus()===402?i=G2(t.bucket):n.getStatus()===403?i=Q2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vA(t){let e=Dc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=z2(t.path)),s.serverResponse=i.serverResponse,s}return n}function MB(t,e,n){let r=e.fullServerUrl(),i=Ec(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Pr(i,s,M_(t,n),o);return a.errorHandler=vA(e),a}function NB(t,e,n){let r=e.fullServerUrl(),i=Ec(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Pr(i,s,RB(t,n),o);return a.errorHandler=vA(e),a}function xB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _A(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=xB(null,e)),r}function PB(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let V="";for(let B=0;B<2;B++)V=V+Math.random().toString().slice(2);return V}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let l=_A(e,r,i),h=yA(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+u+"--",v=wh.getBlob(p,r,m);if(v===null)throw aA();let C={name:l.fullPath},M=Ec(s,t.host,t._protocol),R="POST",O=t.maxUploadRetryTime,j=new Pr(M,R,M_(t,n),O);return j.urlParams=C,j.headers=o,j.body=v.uploadData(),j.errorHandler=Dc(e),j}var go=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function N_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Xn(!1)}return Xn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function OB(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=_A(e,r,i),a={name:o.fullPath},u=Ec(s,t.host,t._protocol),l="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=yA(o,n),m=t.maxUploadRetryTime;function v(M){N_(M);let R;try{R=M.getResponseHeader("X-Goog-Upload-URL")}catch{Xn(!1)}return Xn(Eh(R)),R}let C=new Pr(u,l,v,m);return C.urlParams=a,C.headers=h,C.body=p,C.errorHandler=Dc(e),C}function kB(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let h=N_(l,["active","final"]),p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xn(!1)}p||Xn(!1);let m=Number(p);return Xn(!isNaN(m)),new go(m,r.size(),h==="final")}let o="POST",a=t.maxUploadRetryTime,u=new Pr(n,o,s,a);return u.headers=i,u.errorHandler=Dc(e),u}var JS=256*1024;function FB(t,e,n,r,i,s,o,a){let u=new go(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw X2();let l=u.total-u.current,h=l;i>0&&(h=Math.min(h,i));let p=u.current,m=p+h,v="";h===0?v="finalize":l===h?v="upload, finalize":v="upload";let C={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${u.current}`},M=r.slice(p,m);if(M===null)throw aA();function R(B,_e){let z=N_(B,["active","final"]),w=u.current+h,y=r.size(),_;return z==="final"?_=M_(e,s)(B,_e):_=null,new go(w,y,z==="final",_)}let O="POST",j=e.maxUploadRetryTime,V=new Pr(n,O,R,j);return V.headers=C,V.body=M.uploadData(),V.progressCallback=a||null,V.errorHandler=Dc(t),V}var St={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function I_(t){switch(t){case"running":case"pausing":case"canceling":return St.RUNNING;case"paused":return St.PAUSED;case"success":return St.SUCCESS;case"canceled":return St.CANCELED;case"error":return St.ERROR;default:return St.ERROR}}var b_=class{constructor(e,n,r){if(oB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function lo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var XS=null,C_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=po.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=po.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=po.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},T_=class extends C_{initXhr(){this.xhr_.responseType="text"}};function ho(){return XS?XS():new T_}var S_=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=gA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(lA(i.status,[]))if(s)i=sA();else{this.sleepTime=Math.max(this.sleepTime*2,q2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Re.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=OB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=kB(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ho,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=JS*this._chunkMultiplier,n=new go(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=FB(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}let a=this._ref.storage._makeRequest(o,ho,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){JS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=MB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=PB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=oA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=I_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new b_(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(I_(this._state)){case St.SUCCESS:lo(this._resolve.bind(null,this.snapshot))();break;case St.CANCELED:case St.ERROR:let n=this._reject;lo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(I_(this._state)){case St.RUNNING:case St.PAUSED:e.next&&lo(e.next.bind(e,this.snapshot))();break;case St.SUCCESS:e.complete&&lo(e.complete.bind(e))();break;case St.CANCELED:case St.ERROR:e.error&&lo(e.error.bind(e,this._error))();break;default:e.error&&lo(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var mo=class t{constructor(e,n){this._service=e,n instanceof sn?this._location=n:this._location=sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pA(this._location.path)}get storage(){return this._service}get parent(){let e=EB(this._location.path);if(e===null)return null;let n=new sn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nB(e)}};function LB(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new S_(t,new wh(e),n)}function VB(t){t._throwIfRoot("getDownloadURL");let e=NB(t.storage,t._location,gA());return t.storage.makeRequestWithTokens(e,ho).then(n=>{if(n===null)throw eB();return n})}function UB(t,e){let n=DB(t._location.path,e),r=new sn(t._location.bucket,n);return new mo(t.storage,r)}function jB(t){return/^[A-Za-z]+:\/\//.test(t)}function BB(t,e){return new mo(t,e)}function IA(t,e){if(t instanceof wc){let n=t;if(n._bucket==null)throw J2();let r=new mo(n,n._bucket);return e!=null?IA(r,e):r}else return e!==void 0?UB(t,e):t}function $B(t,e){if(e&&jB(e)){if(t instanceof wc)return BB(t,e);throw w_("To use ref(service, url), the first argument must be a Storage instance.")}else return IA(t,e)}function eA(t,e){let n=e?.[iA];return n==null?null:sn.makeFromBucketSpec(n,t)}function HB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:cd(i,t.app.options.projectId))}var wc=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=rA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$2,this._maxUploadRetryTime=H2,this._requests=new Set,i!=null?this._bucket=sn.makeFromBucketSpec(i,this._host):this._bucket=eA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,e):this._bucket=eA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new E_(cA());{let o=hB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return S(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},tA="@firebase/storage",nA="0.13.2";var wA="storage";function EA(t,e,n){return t=Ve(t),LB(t,e,n)}function DA(t){return t=Ve(t),VB(t)}function bA(t,e){return t=Ve(t),$B(t,e)}function CA(t=hi(),e){t=Ve(t);let r=ja(t,wA).getImmediate({identifier:e}),i=ad("storage");return i&&TA(r,...i),r}function TA(t,e,n,r={}){HB(t,e,n,r)}function qB(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wc(n,r,i,e,br)}function zB(){vn(new Tt(wA,qB,"PUBLIC").setMultipleInstances(!0)),Me(tA,nA,""),Me(tA,nA,"esm2017")}zB();var bc=class{constructor(e){return e}},SA="storage",x_=class{constructor(){return gi(SA)}};var P_=new H("angularfire2.storage-instances");function GB(t,e){let n=Ba(SA,t,e);return n&&new bc(n)}function WB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bc(r)}}var KB={provide:x_,deps:[[new ot,P_]]},QB={provide:bc,useFactory:GB,deps:[[new ot,P_],Gn]};function AA(t,...e){return Me("angularfire",Cr.full,"gcs"),pn([QB,KB,{provide:P_,useFactory:WB(t),multi:!0,deps:[we,_t,mi,yi,[new ot,$s],[new ot,pi],...e]}])}var RA=We(DA,!0);var Dh=We(CA,!0);var MA=We(bA,!0);var NA=We(EA,!0);var bh={production:!0,firebase:{projectId:"joseph-gallery",appId:"1:439124461213:web:9d0ecafac2f4d17386f674",storageBucket:"joseph-gallery.firebasestorage.app",apiKey:"AIzaSyAT1nB1bIV5K8y6kVBocpRKjiOSrpJnjUo",authDomain:"joseph-gallery.firebaseapp.com",messagingSenderId:"439124461213",measurementId:"G-SH826M4B0Z"}};var O_={COLLECTION_NAME:"photos"};var yo=class t{_firestore=k(Pi);_photoCollection=$S(this._firestore,O_.COLLECTION_NAME);_storage=Dh(pd(bh.firebase));uploadFile(e){return new Promise((n,r)=>{if(!e){r("Please fill in all fields and select a file.");return}let i=MA(this._storage,`uploads/${e.name}`);NA(i,e).on("state_changed",null,o=>{console.error("Error uploading file:",o),r(o)},()=>S(this,null,function*(){try{let o=yield RA(i);console.log("File available at",o),n(o)}catch(o){r(o)}}))})}newPhoto(e){return BS(this._photoCollection,F({created:Date.now()},e))}getAllPhotos(){let e=KS(this._photoCollection,WS("created","desc"));return jS(e,{idField:"id"})}getPhotoById(e){return S(this,null,function*(){let n=this.getDocRef(e);return(yield zS(n)).data()})}updatePhoto(e,n){let r=this.getDocRef(e);QS(r,F({},n))}deletePhoto(e){let n=this.getDocRef(e);HS(n)}getDocRef(e){return qS(this._firestore,O_.COLLECTION_NAME,e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function YB(t,e){if(t&1&&(cg(0),Ke(1,"img",14),ug()),t&2){let n=sa();bt(),Nt("src",n.imageUrl,pl)}}function ZB(t,e){t&1&&(W(0,"span",15),Ee(1,"upload_file"),X(),W(2,"p"),Ee(3,"Choose a file"),X())}var Ch=class t{file;imageTitle="";imageDescription="";url="";imageUrl=null;changeInput(e){let n=e.target;if(n.files&&n.files[0]){this.file=n.files[0];let r=new FileReader;r.onload=i=>this.imageUrl=i.target?.result,r.readAsDataURL(this.file)}}_photoSvc=k(yo);uploadPhoto(){if(!this.file){alert("Please select a file.");return}this._photoSvc.uploadFile(this.file).then(e=>(this.url=e,this._photoSvc.newPhoto({title:this.imageTitle,description:this.imageDescription,url:this.url}))).then(()=>{console.log("Photo saved successfully")}).catch(e=>{console.error("Error uploading or saving photo:",e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-upload-page"]],standalone:!0,features:[lt],decls:20,vars:4,consts:[["placeholder",""],[1,"upload-container"],[1,"form-container",3,"ngSubmit"],[1,"image-name-container"],["for","name",1,"image-name-label"],["type","text","id","name","name","name","required","",1,"image-name-input",3,"ngModelChange","ngModel"],[1,"image-description-container"],["for","description",1,"image-description-label"],["id","description","name","description","required","",1,"image-description-textarea",3,"ngModelChange","ngModel"],[1,"dropzone-container"],["type","file","id","file","name","file","accept","image/*",1,"inputfile",3,"change"],["for","file"],[4,"ngIf","ngIfElse"],["type","submit",1,"upload"],["alt","Preview",1,"image-preview",3,"src"],[1,"material-symbols-outlined"]],template:function(n,r){if(n&1){let i=ia();W(0,"section",1)(1,"h1"),Ee(2,"Upload Your Memories"),X(),W(3,"form",2),ut("ngSubmit",function(){return yr(i),vr(r.uploadPhoto())}),W(4,"div",3)(5,"label",4),Ee(6,"Image Name"),X(),W(7,"input",5),Cl("ngModelChange",function(o){return yr(i),lg(r.imageTitle,o)||(r.imageTitle=o),vr(o)}),X()(),W(8,"div",6)(9,"label",7),Ee(10,"Description"),X(),W(11,"textarea",8),Cl("ngModelChange",function(o){return yr(i),lg(r.imageDescription,o)||(r.imageDescription=o),vr(o)}),X()(),W(12,"div",9)(13,"input",10),ut("change",function(o){return yr(i),vr(r.changeInput(o))}),X(),W(14,"label",11),Ir(15,YB,2,1,"ng-container",12)(16,ZB,4,0,"ng-template",null,0,lb),X()(),W(18,"button",13),Ee(19,"Upload"),X()()()}if(n&2){let i=cb(17);bt(7),bl("ngModel",r.imageTitle),bt(4),bl("ngModel",r.imageDescription),bt(4),Nt("ngIf",r.imageUrl)("ngIfElse",i)}},dependencies:[KC,WC,rd,jC,BC,_m,vm,ym,yg,Ml],styles:[".upload-container[_ngcontent-%COMP%]{padding-top:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:center;align-items:center;width:300px}.image-name-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px;width:300px}.image-name-label[_ngcontent-%COMP%]{font-size:15px}.image-name-input[_ngcontent-%COMP%]{padding:5px;border:1px solid #474747;border-radius:8px;width:100%}.image-description-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px;width:300px}.image-description-label[_ngcontent-%COMP%]{font-size:15px}.image-description-textarea[_ngcontent-%COMP%]{padding:5px;border:1px solid #474747;border-radius:8px;resize:none;height:100px;width:100%}.dropzone-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px dashed #ccc;border-radius:8px;padding:20px;width:300px;height:200px;cursor:pointer;position:relative}.inputfile[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;cursor:pointer}.upload[_ngcontent-%COMP%]{background-color:#474747;color:#fff;padding:10px 20px;border:none;border-radius:8px;cursor:pointer}.image-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.dropzone-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;width:100%;height:100%}.dropzone-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dropzone-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}"]})};var Th=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[lt],decls:5,vars:0,consts:[[1,"container"],[1,"title"],["href","home",1,"link"]],template:function(n,r){n&1&&(W(0,"div",0)(1,"h1",1),Ee(2,"PAGE NOT FOUND *_*"),X(),W(3,"a",2),Ee(4,"Home"),X()())},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}.link[_ngcontent-%COMP%]{padding:20px;background-color:#7fffd4;text-decoration:none;border-radius:20px;cursor:pointer;color:#000;font-weight:700}"]})};function k_(t){t||(FE(k_),t=k(vs));let e=new ie(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe($o(e))}function JB(t,e){if(t&1&&Ke(0,"img",4),t&2){let n=e.$implicit;Nt("src",n.url,pl)("alt",n.title)}}var Sh=class t{data;_photoSvc=k(yo);_destroyedRef=k(vs);ngOnInit(){this.getAllPhotos()}getAllPhotos(){this._photoSvc.getAllPhotos().pipe(k_(this._destroyedRef),Fe(e=>{this.data=[...e],console.log(this.data)})).subscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-gallery-page"]],standalone:!0,features:[lt],decls:6,vars:1,consts:[[1,"title"],[1,"subtitle"],[1,"gallery"],["loading","lazy",3,"src","alt",4,"ngFor","ngForOf"],["loading","lazy",3,"src","alt"]],template:function(n,r){n&1&&(W(0,"h1",0),Ee(1,"Gallery"),X(),W(2,"h2",1),Ee(3,"I just capture the essence of moments \u{1F4F8}"),X(),W(4,"div",2),Ir(5,JB,1,2,"img",3),X()),n&2&&(bt(5),Nt("ngForOf",r.data))},dependencies:[Mb],styles:[".title[_ngcontent-%COMP%]{padding-top:100px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;padding:20px 70px 0}.gallery[_ngcontent-%COMP%]{display:grid;width:100%;padding:100px;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:8px;aspect-ratio:auto}"]})};var Ah=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-credits-page"]],standalone:!0,features:[lt],decls:20,vars:0,consts:[[1,"gallery-section"],[1,"titles-container"],[1,"title"],[1,"subtitle"],[1,"credits-container"],["src","josephhuamani.png","alt","Developer",1,"image"],[1,"credit"],[1,"name"],[1,"role"],[1,"social-media"],["target","_blank","href","www.linkedin.com/in/joseph-huamani-mandujano",1,"link"],["src","linkedin.svg","alt",""],["target","_blank","href","https://github.com/HelloNerk",1,"link"],["src","github.svg","alt",""],["target","_blank","href","mailto:josephhm335@gmail.com",1,"link"],["src","email.svg","alt",""]],template:function(n,r){n&1&&(W(0,"section",0)(1,"div",1)(2,"h1",2),Ee(3,"Credits"),X(),W(4,"h2",3),Ee(5,"The people behind the project"),X()(),W(6,"div",4),Ke(7,"img",5),W(8,"div",6)(9,"h3",7),Ee(10,"Joseph Huamani"),X(),W(11,"p",8),Ee(12,"Software Engineer"),X(),W(13,"div",9)(14,"a",10),Ke(15,"img",11),X(),W(16,"a",12),Ke(17,"img",13),X(),W(18,"a",14),Ke(19,"img",15),X()()()()())},styles:[".gallery-section[_ngcontent-%COMP%]{padding-top:120px;display:flex;flex-direction:column;gap:30px}.titles-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.title[_ngcontent-%COMP%]{font-size:2.5em;font-weight:700;color:#000;margin-bottom:20px}.subtitle[_ngcontent-%COMP%]{font-size:1.5em;color:#000;margin-bottom:20px}.credits-container[_ngcontent-%COMP%]{display:flex;gap:50px;justify-content:center;align-items:center}.image[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;object-fit:cover}.credit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.social-media[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:5px}a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px;object-fit:cover}@media (max-width:450px){.credits-container[_ngcontent-%COMP%]{flex-direction:column}}"]})};var xA=[{path:"joseph-gallery/home",component:Ql},{path:"",redirectTo:"joseph-gallery/home",pathMatch:"full"},{path:"joseph-gallery/gallery",component:Sh},{path:"joseph-gallery/credits",component:Ah},{path:"joseph-gallery/upload",component:Ch},{path:"joseph-gallery/**",component:Th}];var PA={providers:[yb({eventCoalescing:!0}),DC(xA),wT(()=>pd(bh.firebase)),US(()=>GS()),AA(()=>Dh())]};function XB(t,e){t&1&&(W(0,"li",15)(1,"a",16),Ee(2,"Home"),X()())}function e$(t,e){t&1&&(W(0,"li",15)(1,"a",17),Ee(2,"Gallery"),X()())}function t$(t,e){t&1&&(W(0,"li",15)(1,"a",18),Ee(2,"Credits"),X()())}function n$(t,e){if(t&1){let n=ia();W(0,"button",19),ut("click",function(){yr(n);let i=sa();return vr(i.onMenuClick())}),W(1,"span",6),Ee(2,"menu"),X()()}}function r$(t,e){if(t&1){let n=ia();W(0,"div",20),ut("click",function(){yr(n);let i=sa();return vr(i.onMenuClick())}),X()}}var Rh=class t{lastScrollTop=0;isToolbarHidden=!1;isMobile=!1;isOpen=!1;constructor(){this.isMobile=window.innerWidth<480}onMenuClick(){this.isOpen=!this.isOpen}onResize(){this.isMobile=window.innerWidth<480,!this.isMobile&&this.isOpen&&(this.isOpen=!1)}onWindowScroll(){let e=window.pageYOffset||document.documentElement.scrollTop;this.isToolbarHidden=e>this.lastScrollTop,this.lastScrollTop=Math.max(e,0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-toolbar-content"]],hostBindings:function(n,r){n&1&&ut("resize",function(){return r.onResize()},!1,Qp)("scroll",function(){return r.onWindowScroll()},!1,Qp)},standalone:!0,features:[lt],decls:25,vars:11,consts:[[1,"toolbar-content"],["src","logo.svg","alt","Logo Nerk"],[1,"nav-list"],["class","nav-item",4,"ngIf"],["class","menu",3,"click",4,"ngIf"],["href","/upload",1,"upload-button"],[1,"material-symbols-outlined"],["class","backdrop",3,"click",4,"ngIf"],[1,"toolbar-content-mobile"],[1,"close-button",3,"click"],[1,"nav-list","nav-list-mobile"],[1,"nav-item","nav-item-mobile"],["href","/home",1,"nav-link","nav-link-mobile",3,"click"],["href","/gallery",1,"nav-link","nav-link-mobile",3,"click"],["href","/credits",1,"nav-link","nav-link-mobile",3,"click"],[1,"nav-item"],["href","/home",1,"nav-link"],["href","/gallery",1,"nav-link"],["href","/credits",1,"nav-link"],[1,"menu",3,"click"],[1,"backdrop",3,"click"]],template:function(n,r){n&1&&(W(0,"nav",0),Ke(1,"img",1),W(2,"ul",2),Ir(3,XB,3,0,"li",3)(4,e$,3,0,"li",3)(5,t$,3,0,"li",3)(6,n$,3,0,"button",4),X(),W(7,"a",5)(8,"span",6),Ee(9,"publish"),X()()(),Ir(10,r$,1,0,"div",7),W(11,"div",8)(12,"button",9),ut("click",function(){return r.onMenuClick()}),W(13,"span",6),Ee(14,"close"),X()(),W(15,"ul",10)(16,"li",11)(17,"a",12),ut("click",function(){return r.onMenuClick()}),Ee(18,"Home"),X()(),W(19,"li",11)(20,"a",13),ut("click",function(){return r.onMenuClick()}),Ee(21,"Gallery"),X()(),W(22,"li",11)(23,"a",14),ut("click",function(){return r.onMenuClick()}),Ee(24,"Credits"),X()()()()),n&2&&(ni("hidden",r.isToolbarHidden),bt(3),Nt("ngIf",!r.isMobile),bt(),Nt("ngIf",!r.isMobile),bt(),Nt("ngIf",!r.isMobile),bt(),Nt("ngIf",r.isMobile),bt(4),Nt("ngIf",r.isOpen),bt(),ni("open",r.isOpen)("close",!r.isOpen))},dependencies:[Ml],styles:['.toolbar-content[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000;padding:20px;width:100%;background-color:#fff;display:flex;flex-direction:row;justify-content:space-around;align-items:center;transition:transform .3s ease-in-out}.toolbar-content.hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:50px}.nav-item[_ngcontent-%COMP%]{list-style:none}.nav-link[_ngcontent-%COMP%]{position:relative;color:#000;text-decoration:none;font-size:18px;letter-spacing:-.5px;padding:0 10px}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:#000;height:3px;width:0;left:0;bottom:-10px;transition:.3s}.nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.upload-button[_ngcontent-%COMP%]{background-color:#fff;border:none;display:flex;justify-content:center;align-items:center}span[_ngcontent-%COMP%]{font-size:30px;color:#000;font-weight:700;overflow:hidden}span[_ngcontent-%COMP%]:hover{cursor:pointer}.menu[_ngcontent-%COMP%], .close[_ngcontent-%COMP%]{background-color:transparent;border:none}.toolbar-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;z-index:1001;background-color:#fff;width:80%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;transform:translate(100%);transition:transform .3s ease-in-out}.toolbar-content-mobile.open[_ngcontent-%COMP%]{transform:translate(0)}.toolbar-content-mobile.close[_ngcontent-%COMP%]{transform:translate(100%)}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000}.close-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:transparent;border:none}.nav-list-mobile[_ngcontent-%COMP%]{margin-top:60px;display:flex;flex-direction:column}.nav-item-mobile[_ngcontent-%COMP%]{margin:20px 0}.nav-link-mobile[_ngcontent-%COMP%]{font-size:24px;color:#000;text-decoration:none}']})};var Mh=class t{title="v18-joseph-gallery";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-root"]],standalone:!0,features:[lt],decls:2,vars:0,template:function(n,r){n&1&&Ke(0,"app-toolbar-content")(1,"router-outlet")},dependencies:[sm,Rh]})};Ub(Mh,PA).catch(t=>console.error(t));
